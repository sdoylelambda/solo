if (self.CavalryLogger) { CavalryLogger.start_js(["n7YVV"]); }

__d("VideoPlayerRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"VideoPlayerRelay_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"original_width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"original_height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcaster_origin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcast_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_looping",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"loop_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"permalink_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"captions_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"dash_prefetch_experimental",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcaster_desired_latency_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"broadcaster_latency_tolerance_ms",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"instream_video_ad_breaks_comet",storageKey:null,args:null,concreteType:"InstreamVideoAdBreaks",plural:!1,selections:[{kind:"ModuleImport",documentName:"VideoPlayerRelay_video",fragmentName:"InstreamVideoAdBreaksPlayer_adBreaks",fragmentPropName:"adBreaks"}]},{kind:"FragmentSpread",name:"useVideoImplementations_video",args:null},{kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video",args:null},{kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video",args:null},{kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video",args:null},{kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video",args:null}]};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useGraphQLVideoAutoplayGatingResult_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"autoplay_gating_result",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_autoplay_setting",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_autoplay",args:null,storageKey:null}]};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useGraphQLVideoDRMInfo_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"drm_info",args:null,storageKey:null}]};e.exports=a}),null);
__d("useOzImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useOzImplementationData_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_use_oz",args:null,storageKey:null},{kind:"ScalarField",alias:"playable_url_dash",name:"playable_url",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{kind:"ScalarField",alias:null,name:"dash_manifest",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"min_quality_preference",args:null,storageKey:null}]};e.exports=a}),null);
__d("useProgressiveImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useProgressiveImplementationData_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"playable_url",args:null,storageKey:null},{kind:"ScalarField",alias:"playable_url_quality_hd",name:"playable_url",args:[{kind:"Literal",name:"quality",value:"HD"}],storageKey:'playable_url(quality:"HD")'}]};e.exports=a}),null);
__d("useVideoImplementations_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useVideoImplementations_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"useOzImplementationData_video",args:null},{kind:"FragmentSpread",name:"useProgressiveImplementationData_video",args:null}]};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useVideoPlayerCaptionsSettings_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"captions_settings",storageKey:null,args:null,concreteType:"CaptionsSettings",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"always_show_captions",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useVideoPlayerShakaConfig_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"is_spherical",args:null,storageKey:null}]};e.exports=a}),null);
__d("useCometSize_DO_NOT_USE",["CometThrottle","ExecutionEnvironment","HiddenSubtreePassiveContext","React","unrecoverableViolation","useResizeObserver"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useCallback,h=c.useContext,i=c.useEffect,j=c.useRef,k=c.useState;function a(){__p&&__p();if(!b("ExecutionEnvironment").canUseDOM)throw b("unrecoverableViolation")("useCometSize is not compatible with Server Rendering. This will break SSR! See https://fburl.com/wiki/xrzohrqb","comet_ssr");var a=j(null),c=k(null),d=c[0],e=c[1],f=h(b("HiddenSubtreePassiveContext")),l=function(a){a=a.getBoundingClientRect();var b=a.height,c=a.width;e(function(a){return(a==null?void 0:a.height)===b&&(a==null?void 0:a.width)===c?a:{height:b,width:c}})},m=g(b("CometThrottle")(function(a){var b=a.height,c=a.width;if(b===0&&c===0)return;e(function(a){return(a==null?void 0:a.height)===b&&(a==null?void 0:a.width)===c?a:{height:b,width:c}})},200,{leading:!0,trailing:!0}),[]),n=b("useResizeObserver")(m);c=g(function(b){b!==a.current&&(a.current=b,b!=null&&l(b)),n(a.current)},[n]);i(function(){if(!f.getCurrentState().hidden)return;var b=f.subscribeToChanges(function(c){!c.hidden&&a.current!=null&&(l(a.current),b.remove())});return function(){return b.remove()}},[f]);i(function(){return function(){m.cancel()}},[m]);return[c,d]}e.exports=a}),null);
__d("CometObjectFitContainer.react",["requireCond","React","cometTestID","cr:964538","mergeRefs","stylex","unrecoverableViolation","useCometSize_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(c=b("React")).useLayoutEffect,i=c.useMemo,j=c.useRef,k={inner:{height:"datstx6m",position:"l9j0dhe7",width:"k4urcfbm"},innerWithAspectRatio:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},innerWithCoverFitHeight:{height:"datstx6m",left:"pzli0o6b",transform:"cj5g2342",width:"dbpd2lw6"},innerWithCoverFitWidth:{height:"idiwt2bm",top:"rk01pc8j",transform:"ke6wolob",width:"k4urcfbm"},outer:{height:"datstx6m",position:"l9j0dhe7",width:"k4urcfbm"},outerWithAspectRatio:{height:"idiwt2bm"},outerWithCover:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function l(a){var c=a.children,d=a.debugRole;d=a.innerInlineStyle;var e=a.innerXStyle,f=a.outerInlineStyle,h=a.outerRef,i=a.outerXStyle;a=a.testid;var j=a!=null&&a!==""?a+"-outer":void 0;a=a!=null&&a!==""?a+"-inner":void 0;return b("React").jsx("div",babelHelpers["extends"]({},{},{className:(g||(g=b("stylex")))(k.outer,i)},b("cometTestID")(j),{ref:h,style:f,children:b("React").jsx("div",babelHelpers["extends"]({},{},{className:g(k.inner,e)},b("cometTestID")(a),{style:d,children:c}))}))}function m(a,b,c){b=Math.max(0,(c-b)/c);return a==null?"-50%":typeof a==="number"?-50+50*b*Math.max(-1,Math.min(1,a))+"%":a}function n(a,b,c){return a===b&&c!=null?c+"px":"0px"}function o(a){a=a.coverVideoOffsetTypeConfigured!=null?n(a.coverVideoOffsetTypeConfigured,a.coverVideoOffsetTypeDirection,a.coverVideoOffsetValue):m(a.coverOffset,a.containerSizePx,a.contentSizePx);return a}function p(a){__p&&__p();var b=a.contentAspectRatio,c=a.coverOffsetX,d=a.coverOffsetY,e=a.coverVideoOffsetType,f=a.coverVideoOffsetValue;a=a.dimensions;if(a==null)return{innerInlineStyle:{},innerXStyle:null};var g=a.width/a.height;g=g>b;var h=g?a.width:a.height*b;b=g?a.width/b:a.height;c=o({containerSizePx:a.width,contentSizePx:h,coverOffset:c,coverVideoOffsetTypeConfigured:e,coverVideoOffsetTypeDirection:1,coverVideoOffsetValue:f});a=o({containerSizePx:a.height,contentSizePx:b,coverOffset:d,coverVideoOffsetTypeConfigured:e,coverVideoOffsetTypeDirection:0,coverVideoOffsetValue:f});d=g?{height:b+"px",top:e!=null?"0":"50%",transform:"translateY("+a+")",width:h+"px"}:{height:b+"px",left:e!=null?"0":"50%",transform:"translateX("+c+")",width:h+"px"};f=g?k.innerWithCoverFitWidth:k.innerWithCoverFitHeight;return{innerInlineStyle:d,innerXStyle:f}}function a(a,c){__p&&__p();var d=a.children,e=a.contentAspectRatio,f=a.coverOffsetX,g=a.coverOffsetY,m=a.coverVideoOffsetType,n=a.coverVideoOffsetValue,o=a.debugRole,q=a.maxHeight,r=a.objectFitMode;r=r===void 0?"CONTAINER_SIZE":r;var s=a.onDimensionsChanged;a=a.testid;a=b("useCometSize_DO_NOT_USE")();var t=a[0],u=a[1];a=i(function(){return b("mergeRefs")(t,c)},[t,c]);var v=j(u),w=j(s);h(function(){var a=s!=null&&s!==w.current,b=u!=null&&(v.current==null||u.width!==v.current.width||u.height!==v.current.height);(b||a)&&s!=null&&u!=null&&s(u);v.current=u;w.current=s},[u,s]);var x=16/9;e=e!=null&&isFinite(e)&&e>0?e:x;if(r==="CONTAINER_WIDTH_BASED_ASPECT_RATIO"){if(q!=null&&q>0&&u!=null){x=u.width/e;x>q&&(e=u.width/q)}x=isFinite(e)&&e>0?100/e:100;q={paddingBottom:x.toFixed(5)+"%"};return b("React").jsx(l,{children:d,debugRole:o,innerXStyle:k.innerWithAspectRatio,outerInlineStyle:q,outerRef:a,outerXStyle:k.outerWithAspectRatio,testid:void 0})}else if(r==="CONTAINER_SIZE")return b("React").jsx(l,{children:d,debugRole:o,outerRef:a,testid:void 0});else if(r==="CONTAINER_COVER"){x=p({contentAspectRatio:e,coverOffsetX:f,coverOffsetY:g,coverVideoOffsetType:m,coverVideoOffsetValue:n,dimensions:u});q=x.innerInlineStyle;e=x.innerXStyle;return b("React").jsx(l,{children:d,debugRole:o,innerInlineStyle:q,innerXStyle:e,outerRef:a,outerXStyle:k.outerWithCover,testid:void 0})}else throw b("unrecoverableViolation")("Unsupported objectFitMode "+r,"comet_ui")}e.exports=c.forwardRef(a)}),null);
__d("CometIsInNotificationsContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(!1);e.exports=a}),null);
__d("useEventCallbackOn",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useEffect;function a(a,b,c){g(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}e.exports=a}),null);
__d("useIsBackgrounded",["React","VideoPlayerShakaGlobalConfig","useEventCallbackOn"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useState;function c(){__p&&__p();var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function i(){__p&&__p();var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var j=c();function k(){var c=a.document.hasFocus?a.document.hasFocus():!0,d=i(),e=b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);return d||(e?!1:!c)}function d(c){__p&&__p();var d=h(function(){return k()}),e=d[0],f=d[1],i=!!c&&c.scrollTerminatesBackgrounded===!0;d=g(function(){f(k())},[f,k]);c=d;var l=g(function(){var a=k();a&&i&&e&&f(!1)},[e,i,f]);b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1)&&(c=function(){});b("useEventCallbackOn")(a.window,"blur",c);b("useEventCallbackOn")(a.window,"focus",c);b("useEventCallbackOn")(a.document,j,d);b("useEventCallbackOn")(a.window,"scroll",l);return e}e.exports=d}),null);
__d("requestManifest",["Deferred","URI","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a,c){c===void 0&&(c=!1);var d=new(b("Deferred"))();a=new(g||(g=b("URI")))(a);new(b("XHRRequest"))(a).setMethod("GET").setResponseType("text").setTransportBuilder(c?b("getCrossOriginTransport").withCredentials:b("getCrossOriginTransport")).setErrorHandler(function(a){d.reject(a)}).setResponseHandler(Object.assign(function(a){d.resolve(a)},{includeHeaders:!0})).send();return d.getPromise()}e.exports=a}),null);
__d("VideoPlayerOnViewability.react",["DOMRectIsEqual","DOMRectReadOnly","React","emptyFunction","stylex","useIntersectionObserver"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useMemo,i=b("React").useRef,j=10,k=[.25,.75,.99,1].concat(new Array(10).fill().map(function(a,b){return b/10}));function a(a){__p&&__p();var c=a.viewportMargins,d=i(-1),e=i(-1),f=i(b("DOMRectReadOnly").fromRect({height:0,width:0,x:0,y:0})),l=i(null);c=-c.top+"px "+-c.right+"px "+-c.bottom+"px "+-c.left+"px";var m=a.onVideoPlayerViewabilityInfoChange||b("emptyFunction"),n=j,o=g(function(a){if(a.time>e.current&&!b("DOMRectIsEqual")(a.boundingClientRect,f.current)){var c=a.boundingClientRect,d=c.height,g=c.width,h=c.x;c=c.y;var i=l.current;d=b("DOMRectReadOnly").fromRect({height:d,width:g,x:h,y:c});f.current=d;e.current=a.time;i!==null&&i>0&&m({positionToViewport:d,visiblePercentage:i})}},[f,l,m]),p=g(function(a){__p&&__p();if(a.time>d.current&&(a.intersectionRatio!==l.current||!b("DOMRectIsEqual")(a.boundingClientRect,f.current))){var c=a.boundingClientRect,g=c.height,h=c.width,i=c.x;c=c.y;var j=a.intersectionRatio;g=b("DOMRectReadOnly").fromRect({height:g,width:h,x:i,y:c});l.current=a.intersectionRatio;f.current=g;d.current=a.time;e.current=a.time;j!==null&&m({positionToViewport:g,visiblePercentage:j})}},[e,f,l,m,d]),q=h(function(){var b=[];for(var a=1;a<=n;a++)b.push("-"+(100-a/n*100)+"% 0% 0% 0%");return b},[n]),r=i([]);r.current=[];for(var s=0;s<q.length;s++)r.current.push(g(b("useIntersectionObserver")(o,{root:null,rootMargin:q[s],threshold:k}),[q[s],k,b("useIntersectionObserver")]));var t=r.current.length,u=g(function(a){for(var b=0;b<t;b++)r.current[b](a)},[t,r]),v=g(b("useIntersectionObserver")(p,{root:null,rootMargin:c,threshold:k}),[p,c,k,b("useIntersectionObserver")]);s=g(function(a){v(a),u(a)},[v,u]);return b("React").jsx("div",{className:"k4urcfbm hwddc3l5 datstx6m",ref:s,children:b("React").Children.only(a.children)})}e.exports=a}),null);
__d("renderVideoPlayerImplementation",["React","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(a.typename==="VideoPlayerMockImplementation")return b("React").jsx(a.Component,babelHelpers["extends"]({},c,a.data));else if(a.typename==="VideoPlayerOzImplementation")return b("React").jsx(a.Component,babelHelpers["extends"]({},c,a.data));else if(a.typename==="VideoPlayerProgressiveImplementation")return b("React").jsx(a.Component,babelHelpers["extends"]({},c,a.data));else throw new(b("unrecoverableViolation"))('CoreVideoPlayer: Unrecognized implementation typename "'+a.typename+'".',"comet_video_player")}e.exports=a}),null);
__d("useCreateVideoPlayerPassiveViewabilityInfo",["DOMRectReadOnly","React","removeFromArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useState;function a(){__p&&__p();var a=g(function(){var a=[],c={positionToViewport:b("DOMRectReadOnly").fromRect({height:0,width:0,x:0,y:0}),visiblePercentage:0};return{setVideoPlayerPassiveViewabilityInfo:function(b){c=b,a.forEach(function(a){return a()})},videoPlayerPassiveViewabilityInfo:{getCurrent:function(){return c},subscribe:function(c){a.push(c);return{remove:function(){b("removeFromArray")(a,c)}}}}}});a=a[0];var c=a.setVideoPlayerPassiveViewabilityInfo;a=a.videoPlayerPassiveViewabilityInfo;return{setVideoPlayerPassiveViewabilityInfo:c,videoPlayerPassiveViewabilityInfo:a}}e.exports=a}),null);
__d("videoPlayerUniqueID",["guid"],(function(a,b,c,d,e,f){"use strict";function a(){var a="id-vpuid-"+b("guid")();return a}e.exports=a}),null);
__d("CoreVideoPlayer.react",["CometObjectFitContainer.react","React","VideoPlayerOnViewability.react","getOwnObjectValues","gkx","renderVideoPlayerImplementation","useCreateVideoPlayerPassiveViewabilityInfo","videoPlayerUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback,h=b("React").useMemo,i=b("React").useState,j=584;function k(a){return a!=null&&isFinite(a)&&a>0?a:0}function a(a){__p&&__p();var c=a.fullscreenController,d=a.implementations,e=a.isFullscreen,f=a.onCoreVideoStatesChanged,l=a.renderWithCoreVideoStates,m=a.trackingDataEncrypted,n=a.trackingNodes,o=a.viewportMarginsForViewability,p=babelHelpers.objectWithoutPropertiesLoose(a,["fullscreenController","implementations","isFullscreen","onCoreVideoStatesChanged","renderWithCoreVideoStates","trackingDataEncrypted","trackingNodes","viewportMarginsForViewability"]);a=i(function(){return b("videoPlayerUniqueID")()});var q=a[0];a=b("useCreateVideoPlayerPassiveViewabilityInfo")();var r=a.setVideoPlayerPassiveViewabilityInfo,s=a.videoPlayerPassiveViewabilityInfo;a=i(function(){var a=p.subOrigin;if(a==="video_home_inline"||a==="inline")return{height:j,width:j};else return{height:1080,width:1920}});var t=a[0],u=a[1];a=g(function(a){u(a)},[]);var v=g(function(a){r(a)},[r]),w=p.loopActive,x=p.loopCount;w=i((w!=null?w:!1)?x!=null?x:0:0);var y=w[0],z=w[1];x=g(function(a){var b=a.implementationController;a=a.videoState;b={adClientToken:p.adClientToken,autoplayGatingResult:p.autoplayGatingResult!=null?p.autoplayGatingResult:"unknown",autoplaySetting:p.autoplaySetting,broadcastStatus:p.broadcastStatus,canAutoplay:p.canAutoplay!=null?p.canAutoplay:!0,controller:b,currentLoop:y,dimensions:t,duration:a.duration,instanceKey:q,isFullscreen:e,lastMuteReason:a.lastMuteReason,lastPauseReason:a.lastPauseReason,lastPlayReason:a.lastPlayReason,loopActive:p.loopActive,loopCount:p.loopCount,originalHeight:p.originalHeight,originalWidth:p.originalWidth,videoPlayerPassiveViewabilityInfo:s,videoState:a};f&&f(b);return l(null,b)},[p.adClientToken,p.autoplayGatingResult,p.autoplaySetting,p.broadcastStatus,p.canAutoplay,p.loopActive,p.loopCount,p.originalHeight,p.originalWidth,y,t,q,e,f,l,s]);w=g(function(){z(function(a){return a>0?a-1:a})},[z]);var A=h(function(){return{coreVideoPlayerMetaData:p,dimensions:t,instanceKey:q,trackingDataEncrypted:m,trackingNodes:n}},[].concat(b("getOwnObjectValues")(p),[t,q,m,n]));if(d.length===0)return null;var B=b("gkx")("1159521")?Boolean(p.captionsUrl):!1,C=b("gkx")("1159521")?Boolean(p.isLiveStreaming):!1;c={alwaysShowCaptions:p.alwaysShowCaptions,captionsUrl:p.captionsUrl,fullscreenController:c,graphQLVideoDRMInfo:(c=p.graphQLVideoDRMInfo)!=null?c:null,inbandCaptionsExpected:C,initialDesiredLatencyMs:p.desiredLatencyMs,initialLatencyToleranceMs:p.latencyToleranceMs,initialRepresentationIds:p.initialRepresentationIds,loggingMetaData:A,renderWithVideoImplementationStates:x,sideLoadCaptionsExpected:B,startTimestamp:k(p.startTimestamp),updateLoopStateOnImplementationEnded:w,videoFBID:p.videoFBID,videoPlayerPassiveViewabilityInfo:s};C=d[0];A=b("renderVideoPlayerImplementation")(C,c);A!=null&&(A=b("React").jsx(b("VideoPlayerOnViewability.react"),{onVideoPlayerViewabilityInfoChange:v,viewportMargins:o,children:A}));return b("React").jsx(b("CometObjectFitContainer.react"),{debugRole:null,objectFitMode:"CONTAINER_SIZE",onDimensionsChanged:a,children:A})}e.exports=a}),null);
__d("CoreVideoPlayerFitParentContainer.react",["requireCond","DOMContainer.react","React","cr:964538","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("React").forwardRef(function(a,c){var d=a.debugRole;d=babelHelpers.objectWithoutPropertiesLoose(a,["debugRole"]);return b("React").jsx("div",babelHelpers["extends"]({},{},d,{className:"k4urcfbm l9j0dhe7 datstx6m a8c37x1j du4w35lb",ref:c}))});d=b("React").forwardRef(function(a,c){var d=a.debugRole;d=a.domElement;a=babelHelpers.objectWithoutPropertiesLoose(a,["debugRole","domElement"]);return b("React").jsx(b("DOMContainer.react"),babelHelpers["extends"]({},{},a,{className:"k4urcfbm l9j0dhe7 datstx6m a8c37x1j du4w35lb",display:"block",ref:c,children:d}))});function a(a){a=a.debugRole;a=document.createElement("div");a.className="k4urcfbm l9j0dhe7 datstx6m a8c37x1j du4w35lb";return a}e.exports={CoreVideoPlayerFitParentContainer:c,CoreVideoPlayerFitParentDOMContainer:d,createFitParentContainerDiv:a}}),null);
__d("VideoPlayerViewabilityProvider.react",["React","VideoPlayerViewabilityContexts"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext,h=b("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext;function a(a){var c=a.children,d=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return b("React").jsx(h.Provider,{value:a,children:b("React").jsx(g.Provider,{value:d,children:c})})}e.exports=a}),null);
__d("wrapWithContextProviders",["React"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}function c(a,c){return function(d){return b("React").jsx(a.Provider,{value:c,children:d})}}e.exports={makeRenderProviderFn:c,wrapWithContextProviders:a}}),null);
__d("VideoPlayerComponentContainer.react",["requireCond","React","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cometTestID","setTimeout","stylex","cr:1269159","wrapWithContextProviders"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useCallback,h=c.useEffect,i=c.useRef,j=c.useState,k=(d=b("VideoPlayerContexts")).ActiveCaptionsContext,l=d.AdClientTokenContext,m=d.AutoplayGatingResultContext,n=d.AvailableVideoQualitiesContext,o=d.BroadcastStatusContext,p=d.BufferEndContext,q=d.CanAutoplayContext,r=d.CaptionsLoadedContext,s=d.CaptionsVisibleContext,t=d.ControllerContext,u=d.CurrentLoopContext,v=d.CurrentVideoQualityContext,w=d.DimensionsContext,x=d.DurationContext,y=d.EndedContext,z=d.ErrorContext,A=d.InbandCaptionsAutogeneratedContext,B=d.InPlayStallingContext,C=d.InstanceKeyContext,D=d.IsAbrEnabledContext,E=d.LastMuteReasonContext,F=d.LastPauseReasonContext,G=d.LastPlayReasonContext,H=d.MutedContext,I=d.PausedContext,J=d.PlayerImplementationNameContext,K=d.PlayingContext,L=d.SeekingContext,M=d.SelectedVideoQualityContext,N=d.StallingContext,O=d.StreamInterruptedContext,P=d.TargetAudioQualityContext,Q=d.TargetVideoQualityContext,R=d.VideoOriginalDimensionsContextMemoProvider,S=d.VideoPlayerMouseHoverContext,T=d.VideoPlayerMouseIdleContext,U=d.VideoStateDebugApiToolsContext,aa=d.VolumeContext,V=b("VideoPlayerHooks").useIsFullscreen,W=b("wrapWithContextProviders").makeRenderProviderFn,ba=b("wrapWithContextProviders").wrapWithContextProviders;function X(a){__p&&__p();var c=i(a);h(function(){c.current=a},[a]);var d=j(!1),e=d[0],f=d[1];d=j(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=b("setTimeout")(function(){f(!0)},c.current);a=function(){b("clearTimeout")(d),a=null}}}});d=d[0];var g=d.cleanup;d=d.pingNotIdle;h(function(){return g},[g]);return{isIdle:e,pingNotIdle:d}}function Y(){__p&&__p();var a=j(!1),b=a[0],c=a[1];a=3e3;a=X(a);var d=a.isIdle,e=a.pingNotIdle;a=g(function(){c(!0),e()},[e]);var f=g(function(){c(!1),e()},[e]),h=g(function(){c(!0),e()},[e]),i=g(function(){e()},[e]),k=g(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:i,onMouseEnter:a,onMouseLeave:f,onMouseMove:h,onMouseUp:k}}function ca(a){var c=Y(),d=c.isHovering,e=c.isIdle,f=c.onMouseDown,g=c.onMouseEnter,h=c.onMouseLeave,i=c.onMouseMove;c=c.onMouseUp;var j=V();return b("React").jsx("div",{className:"k4urcfbm kr520xx4 pmk7jnqg datstx6m"+(j&&e?" sorcqhzv":""),"data-novc":"1",onMouseDown:f,onMouseEnter:g,onMouseLeave:h,onMouseMove:i,onMouseUp:c,children:b("React").jsx(S.Provider,{value:d,children:b("React").jsx(T.Provider,{value:e,children:a.children})})})}function a(a){__p&&__p();var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=a.adClientToken,e=a.autoplayGatingResult,f=a.broadcastStatus,g=a.canAutoplay,h=a.controller,i=a.currentLoop,j=a.dimensions,S=a.instanceKey,T=a.isFullscreen,V=a.lastMuteReason,X=a.lastPauseReason,Y=a.lastPlayReason,da=a.originalHeight,ea=a.originalWidth,Z=a.videoPlayerPassiveViewabilityInfo,$=a.videoState,fa=$.VideoStateDebugApiTools,ga=$.activeCaptions,ha=$.availableVideoQualities,ia=$.bufferEnd,ja=$.captionsLoaded,ka=$.captionsVisible,la=$.currentVideoQuality,ma=$.duration,na=$.ended,oa=$.error,pa=$.inbandCaptionsAutogenerated,qa=$.inPlayStalling,ra=$.isAbrEnabled,sa=$.muted,ta=$.paused,ua=$.playerImplementationName,va=$.playing,wa=$.seeking,xa=$.selectedVideoQuality,ya=$.stalling,za=$.streamInterrupted,Aa=$.targetAudioQuality,Ba=$.targetVideoQuality;$=$.volume;c=b("React").jsx(ca,{children:c});b("cr:1269159")(S,{controller:h,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:Z});a=ba(c,[W(N,ya),W(K,va),W(B,qa),W(p,ia),W(E,V),W(G,Y),W(F,X),W(I,ta),W(v,la),W(H,sa),W(aa,$),W(M,xa),W(L,wa),W(x,ma),W(y,na),W(z,oa),W(w,j||null),W(C,S),W(t,h),W(n,ha),W(J,ua),W(D,ra),W(P,Aa),W(Q,Ba),W(q,g),W(m,e),W(U,fa),W(o,f),W(u,i),W(l,d),W(k,ga),W(s,ka),W(r,ja),W(A,pa),W(O,za),function(a){return b("React").jsx(R,{originalHeight:da,originalWidth:ea,children:a})},function(a){return b("React").jsx(b("VideoPlayerViewabilityProvider.react"),{isFullscreen:T,videoPlayerPassiveViewabilityInfo:Z,children:a})}]);return b("React").jsx("div",babelHelpers["extends"]({"data-instancekey":S},b("cometTestID")("video_player_component_container"),{children:a}))}e.exports=c.memo(a)}),null);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return"id-pv-"+b("cometUniqueID")()}function c(a){if(typeof a==="string"){var c="id-pv-";if(a.indexOf(c)===0&&a.length>c.length)return a;else throw b("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+b("cometUniqueID")()}e.exports={ensureVideoID:c,makePlaceID:d,makeVideoID:a}}),null);
__d("GlobalVideoPortsRenderers.react",["CoreVideoPlayer.react","GlobalVideoPortsContexts","React","VideoPlayerContexts","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("GlobalVideoPortsContexts").VideoPlayerPortalingPlaceInfoProvider,h=b("React").useLayoutEffect,i=b("React").useState,j=b("VideoPlayerContexts").VideoOriginalDimensionsContextMemoProvider;function a(a){var c=a.coreVideoPlayerMetaData,d=a.currentPlaceID,e=a.currentVideoID,f=a.fullscreenController,h=a.implementations,i=a.isFullscreen,j=a.onCoreVideoStatesChanged,k=a.previousPlaceMetaData,l=a.trackingDataEncrypted,m=a.trackingNodes;a=a.viewportMarginsForViewability;var n=b("emptyFunction");return b("React").jsx(g,{currentPlaceID:d,currentVideoID:e,portalingEnabled:!0,previousPlaceMetaData:k,thisPlaceID:d,children:b("React").jsx(b("CoreVideoPlayer.react"),babelHelpers["extends"]({},c,{fullscreenController:f,implementations:h,isFullscreen:i,onCoreVideoStatesChanged:j,renderWithCoreVideoStates:n,trackingDataEncrypted:l,trackingNodes:m,viewportMarginsForViewability:a}))})}function c(a){var c=a.currentPlaceID,d=a.currentVideoID,e=a.originalHeight,f=a.originalWidth,h=a.previousPlaceMetaData,i=a.renderPlaceholder;a=a.thisPlaceID;return b("React").jsx(g,{currentPlaceID:c,currentVideoID:d,portalingEnabled:!0,previousPlaceMetaData:h,thisPlaceID:a,children:b("React").jsx(j,{originalHeight:e,originalWidth:f,children:i!=null?i():null})})}function d(a){__p&&__p();var c=a.currentPlaceID,d=a.currentVideoID,e=a.injectCoreVideoStatesRef,f=a.previousPlaceMetaData,j=a.renderComponents;a=a.thisPlaceID;var k=i(null),l=k[0],m=k[1];k=i(null);var n=k[0],o=k[1];h(function(){e.current=function(b,a){b!=null&&o(function(){return b}),m(a)};return function(){e.current=null}},[e]);if(a===c&&l!=null)return b("React").jsx(g,{currentPlaceID:c,currentVideoID:d,portalingEnabled:!0,previousPlaceMetaData:f,thisPlaceID:a,children:j(n,l)});else return null}e.exports={GlobalVideoPortsPlaceholderRenderer:c,GlobalVideoPortsPlayerRenderer:a,GlobalVideoPortsVideoComponentsRenderer:d}}),null);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("CometFullScreen")).exitFullScreen,h=c.getFullScreenElement,i=c.requestFullScreen,j=c.subscribeToFullScreenChangeEvent;function k(a){return a.current!=null&&h()===a.current}function a(a){__p&&__p();var c=[];function d(){c.forEach(function(a){a()})}var e=null;return{getIsFullscreen:function(){return k(a)},requestSetIsFullscreen:function(c){var d=a.current;if(d==null)throw b("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");c!==k(a)&&(c===!0?i(d):c===!1&&g())},subscribe:function(a){c.length===0&&e==null&&(e=j(d));c.push(a);return{remove:function(){b("removeFromArray")(c,a),c.length===0&&e!=null&&(e(),e=null)}}}}}e.exports={createFullscreenController:a}}),null);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","React","getOwnObjectValues","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,h=b("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv,i=b("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,j=b("React").useRef,k=b("React").useState;function a(a){__p&&__p();var c=a.coreVideoPlayerMetaData,d=a.currentVideoID,e=a.fullscreenController,f=a.globalVideoPortsManager,l=a.globalVideoPortsState,m=a.implementations,n=a.isFullscreen,o=a.portablePlaceMetaData,p=a.renderComponents,q=a.renderPlaceholder,r=a.thisPlaceID,s=a.trackingDataEncrypted,t=a.trackingNodes,u=a.viewportMarginsForViewability;a=k(function(){return h({debugRole:null})});var v=a[0],w=j(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){f.addOrUpdatePlace({coreVideoPlayerMetaData:c,fullscreenController:e,implementations:m,isFullscreen:n,injectCoreVideoStatesRef:w,portablePlaceContainer:v,portablePlaceID:r,portablePlaceMetaData:o,portableVideoID:d,renderComponents:p,renderPlaceholder:q,trackingDataEncrypted:s,trackingNodes:t,viewportMarginsForViewability:u})},[].concat(b("getOwnObjectValues")(c),[d,e,n,f,v],b("getOwnObjectValues")(o||{}),[p,q,r,s,t,u]));b("useLayoutEffect_SAFE_FOR_SSR")(function(){return function(){f.removePlace({portablePlaceID:r})}},[f,r]);return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(g,{debugRole:null,domElement:v},r),b("React").jsx(i,{currentPlaceID:f.getCurrentPlaceIDForVideo(l,d),currentVideoID:d,injectCoreVideoStatesRef:w,previousPlaceMetaData:f.getPreviousPlaceMetaDataForVideo(l,d),renderComponents:p,thisPlaceID:r})]})}e.exports=a}),null);
__d("VideoPlayerPortalingPlace.react",["CometTrackingCodeContext","CometTrackingNodesContext","CometViewportMarginsContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsContexts","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","React","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceWithPortaling.react","gkx","recoverableViolation","useMergeRefs","usePrevious","useStable","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,h=(c=b("GlobalVideoPortsContexts")).VideoPlayerPortalingPlaceInfoProvider,i=c.useGlobalVideoPortsLoader,j=c.useGlobalVideoPortsManager,k=c.useGlobalVideoPortsState,l=b("GlobalVideoPortsID").ensureVideoID,m=b("GlobalVideoPortsID").makePlaceID,n=b("GlobalVideoPortsID").makeVideoID,o=b("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,p=(d=b("React")).useContext,q=d.useEffect,r=d.useRef,s=d.useState,t=b("VideoPlayerFullscreenController").createFullscreenController,u={bottom:0,left:0,right:0,top:0};function v(a){a=a||{onVPVDEnd:function(a){}};return b("useVPVDImpression")(a)}function w(a){__p&&__p();var c=a.portalingEnabled;a=a.portalingFromVideoID;var d=i(),e=j(),f=k(),g=e!=null&&f!=null,h=(g||d!=null)&&(c||a!=null);c=s(function(){return n()});var l=c[0],o=c[1];c=h&&a!=null?a:l;var p=c!==null,r=b("usePrevious")(p);q(function(){r!==null&&p!==r&&o(n())},[p,r]);a=s(function(){return m()});l=a[0];q(function(){h&&!g&&d&&d()},[g,h,d]);return{canBecomePortableLater:h,currentVideoID:c,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:l}}var x=d.forwardRef(function(a,c){var d=a.children;a=a.debugRole;return b("React").jsx(g,{debugRole:a,ref:c,children:d})});function a(a){__p&&__p();var c=a.implementations,d=a.portalingEnabled,e=a.portalingFromVideoID,f=a.portalingPlaceMetaData,g=a.propsForVPVD,i=a.renderComponents,j=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","propsForVPVD","renderComponents","renderPlaceholder"]);q(function(){return function(){}},[]);var k=e!=null?l(e):null;e!=null&&k==null&&b("recoverableViolation")("The provided portalingFromVideoID ("+String(e)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");e=w({portalingEnabled:d,portalingFromVideoID:k});d=e.canBecomePortableLater;k=e.currentVideoID;var m=e.globalVideoPortsManager,n=e.globalVideoPortsState;e=e.thisPlaceID;var y=p(b("CometViewportMarginsContext")),z=r(null);g=v(g);var A=g[0];g=g[1];var B=b("useStable")(function(){return t(z)}),C=s(B.getIsFullscreen()),D=C[0],E=C[1];q(function(){var a=B.subscribe(function(){var a=B.getIsFullscreen();E(a)});E(B.getIsFullscreen());return function(){a.remove()}},[B,E]);C=p(b("CometTrackingNodesContext"));C=C.join("");var F=p(b("CometTrackingCodeContext"));F=(F=F.encrypted_tracking[0])!=null?F:"";A=b("useMergeRefs")(z,A);y=D?u:y;if(!d)return b("React").jsxs(x,{debugRole:null,ref:A,children:[b("React").jsx(h,{currentPlaceID:null,currentVideoID:null,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:null,children:b("React").jsx(b("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:B,implementations:c,isFullscreen:D,renderWithCoreVideoStates:i,trackingDataEncrypted:F,trackingNodes:C,viewportMarginsForViewability:y}))}),g]});if(m&&n)return b("React").jsxs(x,{debugRole:null,ref:A,children:[b("React").jsx(b("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentVideoID:k,fullscreenController:B,globalVideoPortsManager:m,globalVideoPortsState:n,implementations:c,isFullscreen:D,portablePlaceMetaData:f,renderComponents:i,renderPlaceholder:j,thisPlaceID:e,trackingDataEncrypted:F,trackingNodes:C,viewportMarginsForViewability:y}),g]});else return b("React").jsxs(x,{debugRole:null,ref:A,children:[b("React").jsx(o,{currentPlaceID:null,currentVideoID:k,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:j,thisPlaceID:e}),g]})}e.exports=a}),null);
__d("CoreVideoPlayerWithComponents.react",["React","VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useCallback;function a(a){var c=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,h=a.portalingPlaceMetaData,i=a.portalingRenderPlaceholder,j=a.propsForVPVD;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","propsForVPVD"]);var k=g(function(a,d){if(a!=null)throw a;return b("React").jsx(b("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},d,{children:c}))},[c]);return b("React").jsx(b("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:h,propsForVPVD:j,renderComponents:k,renderPlaceholder:i}))}e.exports=a}),null);
__d("VideoPlayerCaptionsController",["JSResource","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("JSResource")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),h=b("JSResource")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){__p&&__p();var c=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,i=null,j=null,k=null;function l(a){var c=h.load().then(function(b){if(c!==j)return;f=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(c!==j)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return c}function m(){var a=g.load().then(function(b){if(a!==k)return;i=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(c){if(a!==k)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+c.message,"comet_video_player")});return a}c!=null?j=l(c):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),i&&(i.destroy(),i=null),j&&(j=null),k&&(k=null)},handleCea608BytesReceived:function(a){i&&i.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){f.source&&f.source.handleTimeUpdate(a);return f.getCurrentScreenRepresentation()}else if(i){i.source&&i.source.handleTimeUpdate(a);return i.getCurrentScreenRepresentation()}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){i&&(i.destroy(),i=null),a&&(k=m())}}}e.exports={createCaptionsController:a}}),null);
__d("VideoPlayerErrorBoundary.react",["FBLogger","React","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromError=function(a){return{error:b("getErrorSafe")(a)}};var d=c.prototype;d.componentDidCatch=function(a,c){__p&&__p();c=c.componentStack;a=b("getErrorSafe")(a);a.componentStack=c;c=this.props;var d=c.description,e=c.onError;c=c.project;var f="ErrorBoundary caught an Error";d!=null&&(f=f+" ("+d+")");d=["OZ_NETWORK"];var g=!0;for(var h=0;h<d.length;h++)a.message.includes(d[h])&&(g=!1);d=b("FBLogger")(c==null?"comet_video_player":c).catching(a);g?d.fatal(f):d.warn(f);e!=null&&e(a)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return c}(b("React").PureComponent);e.exports=a}),null);
__d("VideoPlayerFallbackCover.react",["fbt","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("React").jsx("div",{className:"taijpn5t j83agx80 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",children:b("React").jsx(b("TetraText.react"),{color:"white",type:"bodyLink3",children:g._("Sorry, we're having trouble playing this video.")})})}e.exports=a}),null);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}e.exports={getVideoPlayerMutedStateChange:a}}),null);
__d("createVideoStateHook",["React","VideoPlayerHooks","VideoPlayerUtils","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useRef,i=b("React").useState,j=b("VideoPlayerHooks").useInstanceKey,k=b("VideoPlayerUtils").assertNotUndefined;function a(a){__p&&__p();var b=new Map();function c(){var a=j();b.has(a)||b.set(a,{consumers:new Set(),key:a,lastValue:void 0});return k(b.get(a))}function d(a,b){a.consumers.add(b)}function e(a,b){a.consumers["delete"](b)}function f(a,b,c){a.lastValue=b,a.consumers.forEach(function(a){c!==a&&a(b)})}function a(a){__p&&__p();var b=c(),j=h(b);j.current=b;a=b.lastValue!=null?b.lastValue:a;var k=h(a);k.current=a;a=i(a);var l=a[0],m=a[1];g(function(){m(k.current);d(b,m);return function(){e(b,m)}},[b]);g(function(){f(j.current,l,m)},[l]);return[l,m]}return a}e.exports=a}),null);
__d("usePlayerOriginRouteTracePolicy",["CometIsInNotificationsContext","React","useCometRouteTracePolicy"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){var a=g(b("CometIsInNotificationsContext")),c=b("useCometRouteTracePolicy")();return c==="comet.videos.tahoe"&&a?"comet.notifications":c}e.exports=a}),null);
__d("VideoPlayerLogger.react",["requireCond","Banzai","CometTrackingNodesContext","React","RunComet","cr:989159","VideoPlayerHooks","VideoPlayerMutedStateChange","createVideoStateHook","recoverableViolation","useLayoutEffect_SAFE_FOR_SSR","usePlayerOriginRouteTracePolicy","usePrevious"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(f=b("React")).useContext,h=f.useEffect,i=f.useRef,j=f.useState,k=(f=b("VideoPlayerHooks")).useController,l=f.useCurrentVideoQuality,m=f.useDimensions,n=f.useEnded,o=f.useError,p=f.useInstanceKey,q=f.useIsFullscreen,r=f.useIsLive,s=f.useLastPlayReason,t=f.useLatestValueRef,u=f.useMuted,v=f.usePaused,w=f.usePlayerImplementationName,aa=f.usePlaying,ba=f.useSeeking,ca=f.useStalling,da=f.useVolume,ea=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange,x=b("createVideoStateHook")(null);function a(){var a=x(new Map());a=a[0];return a}var fa=b("createVideoStateHook")("initialTracePolicy"),ga=b("createVideoStateHook")("videoSuborigin"),y=b("createVideoStateHook")(null);function c(){var a=y({logRef:{current:function(a,c){b("recoverableViolation")("Attempted to use the log function from useLoggerRef before rendering VideoPlayerLogger. Queueing.","comet_video_player"),d.push({data:c,event:a})}},queue:[]});a=a[0];var c=a.logRef,d=a.queue;return c}var z=new Map(),ha=["finished_playing","paused","representation_ended","started_playing","unpaused"],ia=["finished_playing","paused","scrubbed"],A="video_player",ja=function(a,c,d,e,f,g){var h=Date.now(),i=babelHelpers["extends"]({},c,{time:Math.round(h/1e3),time_ms:h});d.forEach(function(a,b){i[b]=a});c={event:a,logData:i,routeTracePolicy:f,scriptPath:b("cr:989159")!==null?b("cr:989159").getScriptPath():void 0,source:e};g!=null?b("Banzai").post(A,c,b("Banzai").VITAL):b("Banzai").post(A,c)};function ka(a,b){return a?"full_screen":b!=null?b:"inline"}function d(a){__p&&__p();var c,d=p(),e=n(),f=o(),A=s(),B=m(),C=v(),D=aa(),E=ba(),F=ca(),la=l(),ma=r(),G=i(!0),H=k(),I=t(C),na=t(D),oa=t(A),J=q(),K=w(),L=b("usePlayerOriginRouteTracePolicy")();c=fa((c=a.initialTracePolicy)!=null?c:L);var pa=c[0];L=ga(a.subOrigin);var qa=L[0],ra=g(b("CometTrackingNodesContext")),M={current:function(a,b){}};c={hasEverStartedPlaying:!1,hasPendingRequestedPlaying:!1,lastStartTimePosition:0,sequenceNumber:0};z.has(d)||z.set(d,c);var N=z.get(d)||c;L=x(new Map());var sa=L[0],O=i({stallCount:0,stallCount200ms:0,stallStartTime:0,stallTime:0}),P=function(a){O.current=babelHelpers["extends"]({},O.current,a)},Q=!1;d=K==="oz_v2"||K==="progressive_v2";var R=d?function(a,b){}:function(b,c){__p&&__p();var d={ad_client_token:a.adClientToken,external_log_id:a.externalLogID,external_log_type:a.externalLogType,living_room_session_id:a.livingRoomID,playback_is_live_streaming:ma,player_format:ka(H.getIsFullscreen(),a.playerFormat),tracking_nodes:ra.join(""),video_id:a.videoFBID,video_play_reason:A,video_player_height:B==null?void 0:B.height,video_player_width:B==null?void 0:B.width,video_time_position:H.getPlayheadPosition()};c=babelHelpers["extends"]({},c||{},{seq_num:++N.sequenceNumber,stall_count:null,stall_count_200_ms:null,stall_time:null,video_last_start_time_position:null});ia.indexOf(b)>-1&&(c.video_last_start_time_position=N.lastStartTimePosition);if(ha.indexOf(b)>-1){var e=W(),f=e[0],g=e[1];e=e[2];c.stall_count=f;c.stall_count_200_ms=g;c.stall_time=e;P({stallCount:0,stallCount200ms:0,stallStartTime:0,stallTime:0});Q=!0}ja(b,babelHelpers["extends"]({},d,c),sa,qa,pa,a.adClientToken)};c=y({logRef:{current:R},queue:[]});L=c[0];var S=L.logRef,T=L.queue;b("useLayoutEffect_SAFE_FOR_SSR")(function(){while(T.length){var a=T.shift();R(a.event,a.data)}S.current=R},[R]);K=j([]);var U=K[0],V=K[1];h(function(){M.current=function(a,b){V(function(c){c=c==null?[]:c.slice(0);c.push({data:b,event:a});return c})}},[M]);h(function(){U!=null&&U.length!==0&&(U.forEach(function(a){var b=a.data;a=a.event;S.current(a,b)}),V([]))},[U]);var W=function(){__p&&__p();var a=O.current.stallStartTime;if(a>0){var b=O.current.stallCount+1;a=Date.now()-a;var c=O.current.stallTime+a;a=O.current.stallCount200ms+(a>200?1:0);P({stallCount:b,stallCount200ms:a,stallTime:c});return[b,a,c]}return[O.current.stallCount,O.current.stallCount200ms,O.current.stallTime]};h(function(){if(e)return;C&&N.hasEverStartedPlaying&&!G.current?S.current("paused"):C||(N.hasPendingRequestedPlaying=!0,S.current("requested_playing"))},[C,e]);h(function(){E?I.current||S.current("paused"):!E&&!G.current&&(N.lastStartTimePosition=H.getPlayheadPosition(),S.current("scrubbed"),I.current||(S.current("requested_playing"),na.current?S.current("unpaused"):N.hasPendingRequestedPlaying=!0))},[E]);h(function(){var a={video_play_reason:oa.current};D&&(N.lastStartTimePosition=H.getPlayheadPosition(),!N.hasEverStartedPlaying?S.current("started_playing",a):N.hasPendingRequestedPlaying&&S.current("unpaused",a),N.hasEverStartedPlaying=!0,N.hasPendingRequestedPlaying=!1)},[D]);h(function(){e&&S.current("finished_playing")},[e]);h(function(){F?P({stallStartTime:Date.now()}):!F&&O.current.stallStartTime>0&&!Q&&(W(),P({stallStartTime:0}))},[F]);h(function(){if(f){var a=f.errorCode,b=f.errorDescription,c=f.errorName,d=f.stack,e=f.url;d={player:d};c={error:c,error_code:a,error_description:b,error_user_info:d,resource_url:e};S.current("error",c)}},[f]);h(function(){G.current||S.current("representation_ended")},[la]);h(function(){var a=!1,c=function(){if(a)return;a=!0;I.current||S.current("paused");d.remove()},d=b("RunComet").onUnload(c);return c},[I]);var X=u(),Y=da(),Z=b("usePrevious")(X),$=b("usePrevious")(Y);h(function(){__p&&__p();if(Z==null||$==null)return;var a=ea({currMuted:X,currVolume:Y,prevMuted:Z,prevVolume:$});switch(a){case"muted":S.current("muted");break;case"unmuted":S.current("unmuted");break;case null:break;default:a,b("recoverableViolation")('Unexpected mutedStateChange "'+a+'"',"comet_video_player")}},[X,Y,Z,$]);h(function(){if(G.current)return;J?S.current("entered_fs"):S.current("exited_fs")},[J]);h(function(){G.current=!1},[]);return null}e.exports={VideoPlayerLogger:d,useAdditionalLogData:a,useLoggerRef:c}}),null);
__d("VideoPlayerWebSessionExtender.react",["React","VideoPlayerHooks","WebSessionExtender","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("VideoPlayerHooks").useLastPlayReason,i=b("VideoPlayerHooks").usePlaying;function a(){var a=i(),c=h(),d=b("useCometUniqueID")(),e=a&&(c==="user_initiated"||c==="warning_screen_cover");g(function(){if(e){b("WebSessionExtender").subscribe(d,"video");return function(){b("WebSessionExtender").unsubscribe(d)}}},[e,d]);return null}e.exports=a}),null);
__d("createEvaluateVideoAutoplayPauseOnInvisibleRule",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){function b(b){b=b.videoPlayerPassiveViewabilityInfo;b=b?b.getCurrent().visiblePercentage:0;b=b>=a;return b?"SKIP":"PAUSE"}b.displayName="evaluateVideoAutoplayPauseOnInvisibleRule:"+a+"%";return b}e.exports=a}),null);
__d("evaluateVideoAutoplayIgnoreOnCannotAutoplayRule",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.canAutoplay,c=a.ended;a=a.paused;return b||c||!a?"SKIP":"IGNORE"}a.displayName="evaluateVideoAutoplayIgnoreOnCannotAutoplayRule";e.exports=a}),null);
__d("evaluateVideoAutoplayIgnoreOnEndedRule",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.ended;return a?"IGNORE":"SKIP"}a.displayName="evaluateVideoAutoplayIgnoreOnEndedRule";e.exports=a}),null);
__d("evaluateVideoAutoplayIgnoreOnUnmuteRule",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.muted;a=a.paused;return!b&&!a?"IGNORE":"SKIP"}a.displayName="evaluateVideoAutoplayIgnoreOnUnmuteRule";e.exports=a}),null);
__d("evaluateVideoAutoplayIgnoreOnUserPausedRule",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.paused;a=a.lastPauseReason;return b&&a==="user_initiated"?"IGNORE":"SKIP"}a.displayName="evaluateVideoAutoplayIgnoreOnUserPausedRule";e.exports=a}),null);
__d("evaluateVideoAutoplayIgnoreOnUserPlayRule",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.paused,c=a.muted;a=a.lastPlayReason;return!c&&!b&&a==="user_initiated"?"IGNORE":"SKIP"}a.displayName="evaluateVideoAutoplayIgnoreOnUserPlayRule";e.exports=a}),null);
__d("evaluateVideoAutoplayPauseOnAdInvisibleRule",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.5;function a(a){var b=a.adClientToken;a=a.videoPlayerPassiveViewabilityInfo;a=a?a.getCurrent().visiblePercentage:0;a=a>=g;return b!=null&&!a?"PAUSE":"SKIP"}a.displayName="evaluateVideoAutoplayPauseOnAdInvisibleRule";e.exports=a}),null);
__d("MaybeSymbol",[],(function(a,b,c,d,e,f){"use strict";b=a.Symbol?a.Symbol:null;e.exports=b}),null);
__d("URLSearchParams",["MaybeSymbol"],(function(a,b,c,d,e,f){__p&&__p();var g=/\+/g,h=/[!\'()*]/g,i=/%20/g,j=b("MaybeSymbol")?b("MaybeSymbol").iterator:null;function k(a){return encodeURIComponent(a).replace(i,"+").replace(h,function(a){return"%"+a.charCodeAt(0).toString(16)})}function l(a){return decodeURIComponent((a=a)!=null?a:"").replace(g," ")}function m(a){var b=a.slice(0),c={next:function(){var a=b.length,c=b.shift();return{done:c===void 0&&a<=0,value:c}}};j&&(c[j]=function(){return c});return c}a=function(){"use strict";__p&&__p();function a(a){a===void 0&&(a="");a=a;a[0]==="?"&&(a=a.substr(1));this.$1=a.length?a.split("&").map(function(a){a=a.split("=");var b=a[0];a=a[1];return[l(b),l(a)]}):[]}var b=a.prototype;b.append=function(a,b){this.$1.push([a,String(b)])};b["delete"]=function(a){for(var b=0;b<this.$1.length;b++)this.$1[b][0]===a&&(this.$1.splice(b,1),b--)};b.entries=function(){if(j)return this.$1[j]();var a=this.$1.slice(0);return m(a)};b.get=function(a){for(var b=0,c=this.$1.length;b<c;b++)if(this.$1[b][0]===a)return this.$1[b][1];return null};b.getAll=function(a){var b=[];for(var c=0,d=this.$1.length;c<d;c++)this.$1[c][0]===a&&b.push(this.$1[c][1]);return b};b.has=function(a){for(var b=0,c=this.$1.length;b<c;b++)if(this.$1[b][0]===a)return!0;return!1};b.keys=function(){var a=this.$1.map(function(a){var b=a[0];a[1];return b});return j?a[j]():m(a)};b.set=function(a,b){var c=!1;for(var d=0;d<this.$1.length;d++)this.$1[d][0]===a&&(c?(this.$1.splice(d,1),d--):(this.$1[d][1]=String(b),c=!0));c||this.$1.push([a,String(b)])};b.toString=function(){return this.$1.map(function(a){var b=a[0];a=a[1];return k(b)+"="+k(a)}).join("&")};b.values=function(){var a=this.$1.map(function(a){a[0];a=a[1];return a});return j?a[j]():m(a)};b[j]=function(){return this.entries()};return a}();e.exports=a}),null);
__d("evaluateVideoAutoplayPauseOnAdMutedBackgroundedRule",["URLSearchParams"],(function(a,b,c,d,e,f){"use strict";b={};function a(a){var b=a.adClientToken,c=a.isBackgrounded;a=a.muted;b=b!=null;return!c||!a?"SKIP":c&&a&&b?"PAUSE":"SKIP"}a.displayName="evaluateVideoAutoplayPauseOnAdMutedBackgroundedRule";e.exports=a}),null);
__d("evaluateVideoAutoplayPauseOnHiddenSubtreeRule",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.hiddenSubtreePassive;return a.getCurrentState().hiddenOrBackgrounded_FIXME?"PAUSE":"SKIP"}a.displayName="evaluateVideoAutoplayPauseOnHiddenSubtreeRule";e.exports=a}),null);
__d("evaluateVideoAutoplayPauseOnMutedBackgroundedRule",["URLSearchParams"],(function(a,b,c,d,e,f){"use strict";b={};function a(a){var b=a.muted;a=a.isBackgrounded;return a?a&&b?"PAUSE":"SKIP":"SKIP"}a.displayName="evaluateVideoAutoplayPauseOnMutedBackgroundedRule";e.exports=a}),null);
__d("VideoPlayerAutoplayRulesProvider",["evaluateVideoAutoplayIgnoreOnCannotAutoplayRule","evaluateVideoAutoplayIgnoreOnEndedRule","evaluateVideoAutoplayIgnoreOnUnmuteRule","evaluateVideoAutoplayIgnoreOnUserPausedRule","evaluateVideoAutoplayIgnoreOnUserPlayRule","evaluateVideoAutoplayPauseOnAdInvisibleRule","evaluateVideoAutoplayPauseOnHiddenSubtreeRule","evaluateVideoAutoplayPauseOnAdMutedBackgroundedRule","evaluateVideoAutoplayPauseOnMutedBackgroundedRule","createEvaluateVideoAutoplayPauseOnInvisibleRule","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=[b("evaluateVideoAutoplayPauseOnAdInvisibleRule"),(a=b("createEvaluateVideoAutoplayPauseOnInvisibleRule"))(.5),b("evaluateVideoAutoplayPauseOnAdMutedBackgroundedRule"),c=b("evaluateVideoAutoplayPauseOnHiddenSubtreeRule"),d=b("evaluateVideoAutoplayIgnoreOnCannotAutoplayRule"),b("evaluateVideoAutoplayIgnoreOnUnmuteRule"),f=b("evaluateVideoAutoplayIgnoreOnUserPausedRule"),g=b("evaluateVideoAutoplayIgnoreOnUserPlayRule"),h=b("evaluateVideoAutoplayIgnoreOnEndedRule")],j=[b("evaluateVideoAutoplayPauseOnAdInvisibleRule"),a(.5),b("evaluateVideoAutoplayPauseOnMutedBackgroundedRule"),c,d,b("evaluateVideoAutoplayIgnoreOnUnmuteRule"),f,g,h],k=[a(.5),c,d,f,g,h];d=[b("evaluateVideoAutoplayPauseOnAdInvisibleRule"),b("evaluateVideoAutoplayPauseOnAdMutedBackgroundedRule"),c,d,a(.5),g,f,h];a=[a(.5),c,b("evaluateVideoAutoplayIgnoreOnUnmuteRule"),f,g,h];var l={basic:i,default_feed:j,gif:k,live_producer:a,watch_feed:d};c={provideAutoplayRules:function(a){a=l[a];if(!a)throw b("unrecoverableViolation")("Unknown VideoPlayerAutoplayRulesType passed to VideoPlayerAutoplayRulesProvider","comet_video_player");return a}};e.exports=c}),null);
__d("VideoPlayerAutoplayContexts",["React","VideoPlayerAutoplayRulesProvider","cometUniqueID"],(function(a,b,c,d,e,f){"use strict";c=b("React").createContext;d=c({autoplayLocalRules:b("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("basic"),autoplayScopeID:"null"});f=c(null);function a(){return b("cometUniqueID")()}e.exports={AutoplayApiContext:f,makeAutoplayScopeID:a,VideoAutoplayLocalScopeContext:d}}),null);
__d("VideoPlayerAutoplayHooks",["React","VideoPlayerAutoplayContexts","VideoPlayerUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext,h=b("VideoPlayerAutoplayContexts").AutoplayApiContext,i=b("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext,j=b("VideoPlayerUtils").assertNotNull;function a(){return j(g(h),"AutoplayApi not provided. You are probably try to render VideoAutoplayComponent w/o AutoplayManager")}function c(){return g(i)}e.exports={useAutoplayApi:a,useVideoAutoplayLocalScope:c}}),null);
__d("VideoPlayerWithAutoplayUtils",["gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){}function b(a,b,c,d){return a==="PAUSE"&&b==="PAUSE"&&!c&&d}e.exports={componentShouldPause:b,log:a}}),null);
__d("WwwCometVideoAutoplayFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("www_comet_video_autoplay");e.exports=a}),null);
__d("createVideoPlayerOption",["React","VideoPlayerHooks","VideoPlayerUtils","gkx","videoPlayerUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useState,i=b("VideoPlayerHooks").useInstanceKey,j=b("VideoPlayerUtils").assertNotUndefined;function a(a){__p&&__p();var c=new Map();function d(){var a=i();c.has(a)||c.set(a,{consumers:new Set(),key:a,lastValue:void 0});return j(c.get(a))}function e(a){if(a.publisher==null&&!a.consumers.size){c["delete"](a.key);return!0}return!1}function f(a,b){a.consumers.add(b)}function k(a,b){a.consumers["delete"](b),e(a)}function l(a,b){a.consumers.forEach(function(a){return a(b)})}function a(a){__p&&__p();var c=d(),f=h(function(){return b("videoPlayerUniqueID")()}),i=f[0];f=h(a);var j=f[0];a=f[1];c.lastValue=j;g(function(){c.publisher==null&&(c.publisher=i),c.publisher!==i},[c.publisher,c.key,i]);g(function(){l(c,j)},[j,c]);g(function(){return function(){c.publisher=void 0,e(c)||(c.lastValue=void 0,l(c,void 0))}},[c]);return[j,a]}function m(){var a=d(),b=h(a.lastValue),c=b[0],e=b[1];g(function(){f(a,e);return function(){k(a,e)}},[a]);return c}return[a,m]}e.exports=a}),null);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";e.exports=a}),null);
__d("evaluateVideoAutoplayDefaultIgnoreRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"IGNORE"}a.displayName="evaluateVideoAutoplayDefaultIgnoreRule";e.exports=a}),null);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b+"::"+a;return b}e.exports=a}),null);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=-2,h=-1;a=function(){__p&&__p();function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){__p&&__p();b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();e.exports=a}),null);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useRef,i=b("React").useState;function a(a){var c=h(a),d=i(function(){return new(b("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];g(function(){c.current!==a&&f(function(){return new(b("AutoplayRulesEngine"))(a)})},[a]);g(function(){c.current=e.getRules()},[e]);return e}e.exports=a}),null);
__d("useConcurrentAutoplayManagementAPI",["React","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useState;function a(){var a=b("useCometUniqueID")();return a}function h(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(c){b("removeFromArray")(a,c),a.push(c)},unregisterControllingComponent:function(c){var d=a.length;d>1&&b("removeFromArray")(a,c);return d>1}}}function c(){var a=g(function(){return h()});a=a[0];return a}e.exports={createConcurrentAutoplayManagementAPI:h,useAutoplayControlID:a,useConcurrentAutoplayManagementAPI:c}}),null);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","React","VideoPlayerHooks","VideoPlayerViewabilityHooks","gkx","useIsBackgrounded"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useContext,h=c.useEffect,i=c.useMemo,j=c.useRef,k=c.useState,l=(d=b("VideoPlayerHooks")).useAdClientToken,m=d.useAutoplayGatingResult,n=d.useCanAutoplay,o=d.useCurrentLoop,p=d.useEnded,q=d.useLastPauseReason,r=d.useLastPlayReason,s=d.useMuted,t=d.usePaused,u=b("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo;function a(){__p&&__p();var a=l(),c=m(),d=n(),e=o(),f=p(),v=q(),w=r(),x=s(),y=t(),z=g(b("HiddenSubtreePassiveContext")),A=b("gkx")("1242135")?!a:!1,B=b("useIsBackgrounded")({scrollTerminatesBackgrounded:A}),C=u();A=k(z.getCurrentState().hiddenOrBackgrounded_FIXME);var D=A[0],E=A[1];h(function(){var a=z.subscribeToChanges(function(a){E(a.hiddenOrBackgrounded_FIXME)}),b=z.getCurrentState().hiddenOrBackgrounded_FIXME;E(b);return function(){a.remove()}},[z,E]);var F=i(function(){return{adClientToken:a,autoplayGatingResult:c,canAutoplay:d,currentLoop:e,currentSubtreeIsHidden:D,ended:f,hiddenSubtreePassive:z,isBackgrounded:B,lastPauseReason:v,lastPlayReason:w,muted:x,paused:y,videoPlayerPassiveViewabilityInfo:C}},[a,c,d,e,D,f,z,B,v,w,x,y,C]);A=k(F);var G=A[0],H=A[1],I=j(G);h(function(){I.current=G},[G]);h(function(){var a=!1;for(var b in F)if(Object.prototype.hasOwnProperty.call(F,b)&&F[b]!==I.current[b]){a=!0;break}a&&H(F)},[F,H]);return G}e.exports=a}),null);
__d("VideoPlayerWithAutoplay.react",["HiddenSubtreePassiveContext","React","VideoPlayerAutoplayHooks","VideoPlayerHooks","VideoPlayerWithAutoplayUtils","WwwCometVideoAutoplayFalcoEvent","createVideoPlayerOption","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useContext,h=c.useEffect,i=c.useMemo,j=c.useRef,k=c.useState,l=b("VideoPlayerAutoplayHooks").useAutoplayApi,m=b("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope,n=b("VideoPlayerHooks").useController,o=b("VideoPlayerHooks").useInstanceKey,p=b("VideoPlayerHooks").useVideoPlayerPassiveViewabilityInfo,q=b("VideoPlayerWithAutoplayUtils").componentShouldPause,r=b("VideoPlayerWithAutoplayUtils").log,s=b("useConcurrentAutoplayManagementAPI").useAutoplayControlID;d=b("createVideoPlayerOption")(null);var t=d[0];f=d[1];c=b("createVideoPlayerOption")(null);var u=c[0];d=c[1];c=b("createVideoPlayerOption")(null);var v=c[0];c=c[1];function a(a){__p&&__p();var c=b("useCometUniqueID")(),d=o(),e=i(function(){return b("makeSelectedAutoplayVideoSymbol")(c,d)},[c,d]),f=j(e);h(function(){f.current=e},[e]);var w=g(b("HiddenSubtreePassiveContext")),x=n(),y=s();h(function(){r(f.current,"[ASSUME CONTROL] "+y),x.registerControllingComponent(y)},[x,y]);var z=p(),A=b("useVideoAutoplayState")(),B=m(),C=j(B);h(function(){C.current=B},[B]);var D=b("useAutoplayRulesEngine")(B.autoplayLocalRules),E=a.disableAutoplay===!0?b("evaluateVideoAutoplayDefaultIgnoreRule"):b("evaluateVideoAutoplayDefaultAllowRule");a=k(function(){return E});var F=a[0],G=a[1];a=k(null);var H=a[0],I=a[1];a=k(function(){return D.evaluateAutoplay(A,E)});var J=a[0],K=a[1];a=k(null);var L=a[0],M=a[1],N=j(J),O=l(),P=j(O);h(function(){P.current=O},[O]);h(function(){O.register(e,d,B,x,w);return function(){O.unregister(e)}},[O,B,x,w,d,e]);h(function(){__p&&__p();var a=function(){__p&&__p();var c=D.evaluateAutoplay(A,E);N.current=c;var d=D.getRules(),g=D.getIndexOfLastWinningRule(),a=g>=0?d[g]:E;d=z&&z.getCurrent();g=x.getCurrentState();g=g.paused;(L===null||L!==c)&&(K(c),M(c));c==="PAUSE"&&!g&&(x.isControllingComponent(y)&&(r(f.current,"[PAUSE] via short-circuit on "+a.name+"."),x.pause("autoplay_initiated"),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:C.current.autoplayScopeID,event_creation_time:Date.now(),initiator:f.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:O.getAutoplayManagerDebugInfo(C.current).selectedAutoplayVideoSymbol,target:f.current,target_current_autoplay_decision:c}})));(H===null||H!==a)&&(G(function(){return a}),I(function(){return a}));r(f.current,"[DECISION: "+c+"] from "+a.name);d&&O.update(e,c,d)},c=w.subscribeToChanges(function(a){w.getCurrentState().hiddenOrBackgrounded_FIXME?x.isControllingComponent(y)||x.unregisterControllingComponent(y):x.registerControllingComponent(y)}),d=z?z.subscribe(function(){w.getCurrentState().hiddenOrBackgrounded_FIXME?x.isControllingComponent(y)||x.unregisterControllingComponent(y):x.registerControllingComponent(y),a()}):null;a();return function(){c.remove(),d&&d.remove()}},[O,y,D,x,E,w,H,L,G,K,I,M,e,A,z]);h(function(){var a=x.isControllingComponent(y),c=x.getCurrentState();c=c.paused;q(J,N.current,c,a)&&(r(f.current,"[PAUSE] the video for "+J),x.pause("autoplay_initiated"),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:C.current.autoplayScopeID,event_creation_time:Date.now(),initiator:f.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:P.current.getAutoplayManagerDebugInfo(C.current).selectedAutoplayVideoSymbol,target:f.current,target_current_autoplay_decision:J}}))},[J,x,y]);a=v(null);var Q=a[1];a=u(e);var R=a[1];a=t(null);var S=a[1];h(function(){R(e)},[R,e]);h(function(){Q({decision:J,rule:F,rules:[]})},[F,J,Q]);h(function(){S(function(){return{getCurrent:function(){return O.getAutoplayManagerDebugInfo(B)}}})},[O,B,S]);h(function(){return function(){r(f.current,"[RELEASE CONTROL] "+y),x.unregisterControllingComponent(y)}},[x,y]);return null}a.options={useAutoplayManagerDebugInfo:f,useAutoplayVideoSymbol:d,useLastAutoplayDebugInfo:c};e.exports=a}),null);
__d("VideoPlayerWithDefaultLoopingBehavior.react",["React","VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useEffect,h=b("VideoPlayerHooks").useController,i=b("VideoPlayerHooks").useCurrentLoop,j=b("VideoPlayerHooks").useEnded;function a(a){var b=j(),c=h(),d=i(),e=d===-1;g(function(){b&&(e||d>0)&&c.play("loop_initiated")},[b,c,d]);return null}e.exports=a}),null);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCController","clearTimeout","cometAsyncFetch","emptyFunction","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DateConsts").MS_PER_SEC,h=Object.values(b("CVCv3DisabledPlayerOrigins")),i=Object.values(b("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){__p&&__p();function a(a,c,d,e,f,g,j){__p&&__p();var k=this;this.$17=function(){k.$10=null,k.$16(),k.$15(0)};this.$1=new(b("CVCv3SubscriptionHelper"))(a,c,d);this.$5=f;this.$6=null;this.$7=j;this.$10=null;this.$11=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=c!=null?h.includes(c):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$12=g,this.$4=e.subscribe(function(){if(k.$3==null)return;var a=k.$3.getCurrentState();a.playing?k.$13(a):k.$14()}))}var c=a.prototype;c.$13=function(a){__p&&__p();if(this.$3==null)return;var c=!1;this.$7!=null&&(c=b("gkx")("1113562"));c||(c=this.$5?!0:b("gkx")("1124976"));if(!c)return;if(a.playing){if(this.$2==null){c=this.$3.getPlayheadPosition();c>=0&&(this.$2=c)}}else this.$2=null;this.$15(0)};c.stopUnifiedCVC=function(){this.$14()};c.destroy=function(){this.$14(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};c.$14=function(){b("clearTimeout")(this.$9),b("clearTimeout")(this.$8),this.$9=null,this.$8=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$10=null};c.$16=function(){b("clearTimeout")(this.$8),this.$8=null};c.$15=function(a){__p&&__p();var c=this;if(this.$3==null||this.$9!=null||this.$10!=null||this.$11)return;this.$9=b("setTimeout")(function(){__p&&__p();c.$9=null;var a=c.$18();if(a==null)return;c.$10=a;b("promiseDone")(a,function(b){if(a!==c.$10)return;c.$10=null;if(b!=null){b=c.$1.processUnifiedResponse(b);c.$19(b)}},b("emptyFunction"));c.$8=b("setTimeout")(c.$17,j*g)},a)};c.$19=function(a){__p&&__p();this.$16();a.d!=null&&this.$12!=null&&this.$12(a.d);if(a.a!=null){var b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$15(b*g);break;case"s":this.$11=!0;break}}};c.$18=function(){var a=this.$20();if(a==null)return null;a={d:JSON.stringify(a)};return b("cometAsyncFetch")(b("XVideoUnifiedCVCController").getURIBuilder().getURI(),{data:a,method:"POST"})};c.$20=function(){__p&&__p();if(this.$3==null)return null;var a={};this.$7!=null&&(a.lr=this.$7);this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$21(d),d.muted,a);return b};c.$21=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};c.testing_setLastStartPosition=function(a){this.$2=a};c.testing_makeUnifiedStateUpdate=function(){return this.$20()};c.testing_handleUnifiedResponse=function(a){return this.$19(a)};return a}();e.exports=a}),null);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}e.exports=a}),null);
__d("useVideoPlayerUnifiedCVCProvider",["UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerHooks").useController,h=b("VideoPlayerHooks").useIsFullscreen,i=b("VideoPlayerHooks").useIsLive,j=b("createVideoStateHook")("unifiedCVCSubscription"),k=b("createVideoStateHook")("unifiedCVCData");function a(){var a=k();a=a[0];return a}function c(a){__p&&__p();var c=a.livingRoomID,d=a.playerFormat,e=a.subOrigin,f=a.videoFBID,l=i(),m=h(),n=g();a=j(null);a[0];var o=a[1];a=k(null);a[0];var p=a[1];b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=new(b("UnifiedVideoCVCSubscription"))(f,b("getPlayerFormatForLogData")(m,d),e,n,l,function(a){p(a)},c);o(a);return function(){a.destroy()}},[c,m,l,d,p,o,e,n,f])}e.exports={useVideoPlayerUnifiedCVCProvider:c,useVideoUnifiedCVCData:a}}),null);
__d("useVideoPlayerVideoDataProvider",["createVideoStateHook","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("createVideoStateHook")(null);function a(){var a=g(null);a=a[0];return a}function c(a){var c=a.videoFBID;a=g(c);a[0];var d=a[1];b("useLayoutEffect_SAFE_FOR_SSR")(function(){d(c)},[c])}e.exports={useVideoFbid:a,useVideoPlayerVideoDataProvider:c}}),null);
__d("VideoPlayerX.react",["requireCond","requireDeferredForDisplay","CoreVideoPlayerWithComponents.react","React","VideoPlayerErrorBoundary.react","VideoPlayerFallbackCover.react","VideoPlayerLogger.react","VideoPlayerWebSessionExtender.react","VideoPlayerWithAutoplay.react","cr:946298","VideoPlayerWithDefaultLoopingBehavior.react","deferredLoadComponent","cr:1187201","usePlayerOriginRouteTracePolicy","useVideoPlayerUnifiedCVCProvider","useVideoPlayerVideoDataProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerLogger.react").VideoPlayerLogger,h=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSpinner.react")),i=b("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider,j=b("useVideoPlayerVideoDataProvider").useVideoPlayerVideoDataProvider;function k(a){var c=a.adClientToken,d=a.autoplayComponentEnabled,e=a.children,f=a.disableAutoplay,k=a.disableLoadingIndicator;k=k===void 0?!1:k;var l=a.externalLogID,m=a.externalLogType,n=a.initialTracePolicy,o=a.instreamVideoAdBreaksPlayer,p=a.livingRoomID,q=a.loopActive,r=a.playerFormat,s=a.subOrigin;a=a.videoFBID;j({videoFBID:a});i({livingRoomID:p,playerFormat:r,subOrigin:s,videoFBID:a});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(g,{adClientToken:c,externalLogID:l,externalLogType:m,initialTracePolicy:n,livingRoomID:p,playerFormat:r,subOrigin:s,videoFBID:a}),k?null:b("React").jsx(h,{}),b("cr:1187201")?b("React").jsx(b("cr:1187201"),{children:e}):e,d?b("React").jsx(b("VideoPlayerWithAutoplay.react"),{disableAutoplay:f}):null,b("cr:946298")?b("React").jsx(b("cr:946298"),{subOrigin:s}):null,q===!0?b("React").jsx(b("VideoPlayerWithDefaultLoopingBehavior.react"),{}):null,o,b("React").jsx(b("VideoPlayerWebSessionExtender.react"),{})]})}function l(a){var c=a.autoplayComponentEnabled,d=a.children,e=a.disableAutoplay,f=a.disableLoadingIndicator,g=a.implementations,h=a.instreamVideoAdBreaksPlayer,i=a.portalingEnabled,j=a.portalingFromVideoID,l=a.portalingPlaceMetaData,m=a.portalingRenderPlaceholder,n=a.propsForVPVD;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoplayComponentEnabled","children","disableAutoplay","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","propsForVPVD"]);var o=b("usePlayerOriginRouteTracePolicy")(),p=a.adClientToken,q=a.externalLogID,r=a.externalLogType,s=a.initialTracePolicy,t=a.loopActive,u=a.playerFormat,v=a.subOrigin,w=a.videoFBID;return b("React").jsx(b("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{implementations:g,portalingEnabled:i,portalingFromVideoID:j,portalingPlaceMetaData:l,portalingRenderPlaceholder:m,propsForVPVD:n,routeTracePolicy:o,children:b("React").jsx(k,{adClientToken:p,autoplayComponentEnabled:c,children:d,disableAutoplay:e,disableLoadingIndicator:f,externalLogID:q,externalLogType:r,initialTracePolicy:s,instreamVideoAdBreaksPlayer:h,livingRoomID:a.livingRoomID,loopActive:t,playerFormat:u,subOrigin:v,videoFBID:w})}))}a=function(a){return b("React").jsx(b("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerX",fallback:function(){return b("React").jsx(b("VideoPlayerFallbackCover.react"),{})},project:"comet_video_player",children:b("React").jsx(l,babelHelpers["extends"]({},a))})};e.exports=a}),null);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;a={autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1};return a}e.exports={makeGraphQLVideoAutoplayGatingResult:a}}),null);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult;function a(a){a=h(g!==void 0?g:g=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);return i(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay)}e.exports=a}),null);
__d("isEmptyObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var b in a)return!1;return!0}e.exports=a}),null);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;c={graphApiVideoLicenseUri:(c=c)!=null?c:null,videoLicenseUriMap:d,widevineCert:a};return c.graphApiVideoLicenseUri===null&&b("isEmptyObject")(c.videoLicenseUriMap)?null:c}e.exports={makeGraphQLVideoDRMInfo:a}}),null);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","React","useGraphQLVideoDRMInfo_video.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo,j=b("React").useEffect,k=b("React").useState;function l(a){if(a!=null){a=m(a);return i(a)}return null}function m(a){a=JSON.parse(a)||{};var b=a.graph_api_video_license_uri,c=a.video_license_uri_map;a=a.widevine_cert;return{graph_api_video_license_uri:b,video_license_uri_map:c,widevine_cert:a}}function a(a){__p&&__p();a=h(g!==void 0?g:g=b("useGraphQLVideoDRMInfo_video.graphql"),a);var c=a.drm_info;a=k(c);var d=a[0],e=a[1];j(function(){e(c)},[c]);a=k(function(){return l(d)});var f=a[0],i=a[1];j(function(){i(l(d))},[d]);return f}e.exports=a}),null);
__d("VideoPlayerBanzaiLogFlusher",["Banzai","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="video_player";a=b("emptyFunction");c=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var c={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.subOrigin};a=(a=a.logData)==null?void 0:a.ad_client_token;b("gkx")("1107827")?b("Banzai").post(g,c,b("Banzai").VITAL):a!=null?b("Banzai").post(g,c,b("Banzai").VITAL):b("Banzai").post(g,c)})};return a}();e.exports=c}),null);
__d("SegmentInfoConstants",[],(function(a,b,c,d,e,f){"use strict";a=10;b=10;c=2/15;d=1+2*c;f=.25;var g=40,h=0,i=1,j=2,k=0,l=1,m=0,n=1,o=10;e.exports={AUDIO_BITRATE_INDEX:l,AUDIO_BUFFER_INDEX:i,AUDIO_SEGMENT_INDEX:n,COMBO_BUFFER_INDEX:j,FUTURE_SEGMENT_TIME:b,MAX_SEGMENT_SEARCH_RANGE:o,NEARBY_SEGMENT_ARR_SIZE:g,PAST_SEGMENT_TIME:a,SEGMENT_GRAPH_BORDER_LENGTH:c,SLOPE:f,TRACK_LENGTH:d,VIDEO_BITRATE_INDEX:k,VIDEO_BUFFER_INDEX:h,VIDEO_SEGMENT_INDEX:m}}),null);
__d("VideoPlayerImplementationHelper",["BinarySearch","SegmentInfoConstants","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(g=b("SegmentInfoConstants")).AUDIO_BUFFER_INDEX,i=g.AUDIO_SEGMENT_INDEX,j=g.COMBO_BUFFER_INDEX,k=g.VIDEO_BUFFER_INDEX,l=g.VIDEO_SEGMENT_INDEX;function a(a){var c=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=b("getErrorMessageFromMediaErrorCode")(g));e={errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:c,errorName:b("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function c(a,b){if(a==null){var c={errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function d(a,b,c){var d;d={message:(d=b==null?void 0:b.message)!=null?d:"",name:(d=b==null?void 0:b.name)!=null?d:"UnknownError",stack:(b==null?void 0:b.stack)||new Error().stack};return{errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null}}function m(a){__p&&__p();if(!a.getTimeRange||!a.getTimeRange())return null;var b=a.getTimeRange(),c=b.endTime;b=b.startTime;var d=c-b,e=null,f=null,g=null,h=null;if(a.getByteRange){a=a.getByteRange();a&&(f=a.startByte,g=a.endByte,h=g-f)}return{byteSize:h,debugInfo:e,endByte:g,endTime:c,segmentLength:d,startByte:f,startTime:b}}function f(a,c){__p&&__p();c=c.event;var d=c.segment;c=c.type;d=m(d);if(d==null)return;c=c==="a"?i:l;if(a[c].length===0){a[c].push(d);return}var e=b("BinarySearch").findBoundInArray(a[c],d,function(a,b){return a.startTime-b.startTime},b("BinarySearch").LEAST_UPPER_BOUND);a[c].splice(e,0,d)}function n(a,b,c){b=b.event;var d=b.sourceBuffer;b=b.type;b=b==="a"?h:k;a[b]=d;a[j]=c!=null?c:null}e.exports={createVideoPlayerErrorFromHTMLVideoElementError:a,createVideoPlayerErrorFromUnknownError:d,createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason:c,getSegmentData:m,insertSegment:f,insertSourceBuffer:n}}),null);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationHelper","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerImplementationHelper").createVideoPlayerErrorFromHTMLVideoElementError;function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){__p&&__p();var c=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;c=h({bufferingDetected:c,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=c?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;b("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a,c,d){__p&&__p();switch(d.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([d])});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(c.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":c=a.playbackState;var e=c;switch(c){case"playing":case"stalling":case"ended":case"paused":e="stalling";break;default:c;b("recoverableViolation")("unexpected playbackState: "+c,"comet_video_player");break}c=!0;return babelHelpers["extends"]({},a,{playbackState:e,waitingForDomPlaying:c});case"dom_event_playing":e=a.bufferingDetected;c=a.seeking;var f=!1,h=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:e,prevPlaybackState:h,seeking:c,waitingForDomPlaying:f}),waitingForDomPlaying:f});case"dom_event_seeking":e=a.playbackState;h=e;switch(e){case"paused":case"ended":break;case"stalling":case"playing":h="stalling";break;default:e,b("recoverableViolation")("unexpected playbackState: "+e,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:h,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":c=a.bufferingDetected;f=a.waitingForDomPlaying;e=!1;h=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:c,prevPlaybackState:h,seeking:e,waitingForDomPlaying:f}),seeking:e});case"dom_event_error":c=g({errorLocation:"dom_event_error",hostCallError:null,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:c,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:d.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":h=g({errorLocation:d.payload.errorLocation,hostCallError:d.payload.hostCallError,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:h,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":return babelHelpers["extends"]({},a,{availableQualities:d.payload.availableQualities,selectedVideoQuality:d.payload.selectedVideoQuality,targetVideoQuality:d.payload.targetVideoQuality});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:d.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:d.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPauseReason:d.payload.reason,playbackState:"paused",waitingForDomPlaying:!1});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{lastPlayReason:d.payload.reason,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{seekTargetPosition:d.payload.seekTargetPosition,seeking:!0});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:d.payload.selectedVideoQuality});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:d.payload.reason,muted:d.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:d.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!1,seekTargetPosition:d.payload.seekTargetPosition,seeking:d.payload.seekTargetPosition!=null});case"buffering_begin_requested":f=a.playbackState;e=f;switch(f){case"paused":case"ended":break;case"playing":case"stalling":e="stalling";break;default:f;b("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}return babelHelpers["extends"]({},a,{bufferingDetected:!0,playbackState:e});case"buffering_end_requested":c=a.seeking;h=a.waitingForDomPlaying;f=!1;e=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:f,playbackState:i({bufferingDetected:f,prevPlaybackState:e,seeking:c,waitingForDomPlaying:h})});case"controller_set_captions_visible_requested":f=d.payload.captionsVisible;return a.captionsVisible===f?a:babelHelpers["extends"]({},a,{activeCaptions:f?a.activeCaptions:null,captionsVisible:f});case"controller_set_active_captions_requested":e=d.payload.activeCaptions;h=(c=e==null?void 0:e.rows)!=null?c:[];f=a.activeCaptions;var j=(c=f==null?void 0:f.rows)!=null?c:[];return j.length===h.length&&h.every(function(a,b){return j[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:e});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1});case"inband_captions_autogenerated_changed":f=d.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===f?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:f});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});default:return a}}function k(a,c,d){var e=c.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!b("shallowEqual")(e,a.uncontrolledState);c=j(a.controlledState,e,c);var f=!b("shallowEqual")(c,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?c:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var l,m;function n(a){__p&&__p();var c=a.collectUncontrolledState,d=a.initialState,e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,l=!1,m=!0,n=!0;return{dispatch:function(a){__p&&__p();if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw b("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=c()}catch(a){m=!1,g=a}var p=h;o=k(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!l&&(d!=null||g!=null)){l=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var o,p;function a(a){__p&&__p();var b=a.collectUncontrolledState,c=a.effects,d=a.initialState;a=a.onFatalError;function e(a,b,d){try{var e=!0,f=0;while(e&&f<c.length){var g=c[f];e=g(a,b,d);++f}}finally{}}return n({collectUncontrolledState:b,initialState:d,onDispatched:e,onFatalError:a})}function c(a,b){__p&&__p();function c(){}function d(a){return a}function e(c){return function(e){e=d(e.currentTarget);b(e);a.dispatch(c)}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:function(c){c=d(c.currentTarget);b(c);a.dispatch({payload:{videoElementError:c.error,videoElementNetworkState:c.networkState,videoElementReadyState:c.readyState},type:"dom_event_error"})},onLoadStart:c,onLoadedData:c,onLoadedMetadata:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:e({type:"dom_event_playing"}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}e.exports={createReactVideoElementCallbacksForStateMachine:c,createVideoPlayerImplementationStateMachine:n,createVideoPlayerImplementationStateMachineWithEffects:a}}),null);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("emptyFunction");function g(){return"id-vpdom-"+b("cometUniqueID")()}function h(a){__p&&__p();var c=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),b("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":c.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;default:d.type;return!1}return!0}function i(a){__p&&__p();var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=h({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function j(a){__p&&__p();var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){__p&&__p();switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:g(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:g(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:g(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=j(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){i({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}e.exports={applyOrQueueHostCall:i,flushHostCallQueue:a,makeHostCallID:g}}),null);
__d("VideoPlayerImplementationStateMachineLogger",["VideoMimeTypes","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange,i=6e4,j=null,k=function(a){var b;j=(b=j)!=null?b:document.createElement("video");return!("canPlayType"in j)?"":j.canPlayType(a)};d=c=b("emptyFunction");f=c;d=c;f=c;function l(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,dontLogPauseOnUnpausedSeeking:!1,hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallDuration:0,stallStartTimestamp:0,stallCountTotal:0,stallDurationTotal:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function m(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){__p&&__p();var c=new Map(),d=a.initialLoggingMetaData,e=d,f=[],j=l(),n=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function o(a){__p&&__p();var b=j.stallStartTimestamp;if(b>0){j.stallCount+=1;j.stallCountTotal+=1;j.hasPendingRequestedPlaying&&(j.startStallCountTotal+=1);a=a-b;j.stallDurationTotal+=a;j.stallDuration+=a;j.stallCount200ms+=a>200?1:0;j.hasPendingRequestedPlaying&&(j.startStallDurationTotal+=a)}}function p(a,b){__p&&__p();a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"representation_ended":c=j.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":j.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"representation_ended":j.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function q(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var d=b.controlledState.playbackState;a!=="stalling"&&d==="stalling"&&(j.stallStartTimestamp=c);a==="stalling"&&d!=="stalling"&&(o(b.uncontrolledState.clockTimestamp),j.stallStartTimestamp=0)}function r(a,b,c){__p&&__p();var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:j.stallCount,stall_count_200_ms:j.stallCount200ms,stall_time:j.stallDuration};j.stallCount=0;j.stallCount200ms=0;j.stallDuration=0;j.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(j.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"representation_ended":o(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(o(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function s(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function t(e){__p&&__p();var g=e.eventType,h=e.logDataOverrides,i=e.prevState;e=e.state;var k=p(e,g);k=k.video_last_start_time_position;i=r(i,e,g);var l=i.stall_count,o=i.stall_count_200_ms;i=i.stall_time;var q=[],t=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;t&&q.push(t);t=g==="entered_fs"?!0:g==="exited_fs"?!1:j.lastLoggedFullscreenState;var u=b("getPlayerFormatForLogData")(t,d.coreVideoPlayerMetaData.playerFormat),v=Boolean(e.uncontrolledState.isFBIsLiveTemplated),w=Boolean(e.uncontrolledState.isFBWasLive);w={ad_client_token:d.coreVideoPlayerMetaData.adClientToken,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay,autoplay_failure_reasons:JSON.stringify(q),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,living_room_session_id:a.initialLoggingMetaData.coreVideoPlayerMetaData.livingRoomID,browser_tab_id:b("getVideoBrowserTabId")(),caption_state:m(e,g),current_viewability_percentage:e.uncontrolledState.viewabilityPercentage,dropped_frame_count:e.uncontrolledState.videoElementDroppedFrameCount,external_log_id:d.coreVideoPlayerMetaData.externalLogID,external_log_type:d.coreVideoPlayerMetaData.externalLogType,is_abr_enabled:e.isAbrEnabled,is_fbms:e.uncontrolledState.isFBMS,is_templated_manifest:v||w,last_viewability_percentage:j.lastLoggedViewabilityPercentage,playback_duration:e.uncontrolledState.videoElementDuration,playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:u,player_instance_key:d.instanceKey,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_state:s(e),player_suborigin:b("gkx")("1246799")?d.coreVideoPlayerMetaData.subOrigin:null,player_version:e.playerVersion,representation_id:e.uncontrolledState.videoRepresentationID,stall_count:l,stall_count_200_ms:o,stall_time:i,streaming_format:e.streamingFormat,total_frame_count:e.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,video_bandwidth:e.uncontrolledState.estimatedBandwidth,video_id:d.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:k,video_play_reason:e.controlledState.lastPlayReason,video_player_height:(q=d.dimensions)==null?void 0:q.height,video_player_width:(v=d.dimensions)==null?void 0:v.width,video_time_position:e.uncontrolledState.videoElementPlayheadPosition};u={event_seq_num:++j.vplEventSequenceNumber,seq_num:n.has(g)?++j.sequenceNumber:null,time_ms:Date.now()};var x={};c.forEach(function(a,b){x[b]=a});l=babelHelpers["extends"]({},x,w,h,u);i=(o=j.initialSuborigin)!=null?o:d.coreVideoPlayerMetaData.subOrigin;q=(k=d.coreVideoPlayerMetaData.initialTracePolicy)!=null?k:d.coreVideoPlayerMetaData.routeTracePolicy;v={eventType:g,logData:l,routeTracePolicy:q,subOrigin:i};f.push(v);j.initialSuborigin==null&&i!=null&&(j.initialSuborigin=i);j.lastLoggedFullscreenState=t}var u={};function v(a,c,d){t({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},d,{state:j.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED}),prevState:a,state:c});j.hasPendingRequestedPlaying=!0;j.canLogPausedOrFinishedPlaying=!0;return u}function w(a,b,c){__p&&__p();if(!j.canLogPausedOrFinishedPlaying)return u;else if(j.hasPendingRequestedPlaying){x(a,b,c);j.canLogPausedOrFinishedPlaying=!1;j.hasPendingRequestedPlaying=!1;return u}else{t({eventType:"paused",logDataOverrides:c,prevState:a,state:b});j.canLogPausedOrFinishedPlaying=!1;j.hasPendingRequestedPlaying=!1;return u}}function x(a,c,d){d=babelHelpers["extends"]({},d,{state:j.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED});t({eventType:"cancelled_requested_playing",logDataOverrides:d,prevState:a,state:c});return u}function y(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&j.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){x(a,b,{debug_reason:"not_allowed"});return u}else return u}else return u}function z(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!j.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){v(a,b);return u}else return u}function A(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&j.canLogPlayingEvent){c=j.hasLoggedStartedPlaying?"unpaused":"started_playing";t({eventType:c,prevState:a,state:b});j.hasLoggedStartedPlaying=!0;j.canLogPlayingEvent=!1;j.hasPendingRequestedPlaying=!1;return u}else return u}function B(a,b,c){__p&&__p();var d=b.controlledState.playbackState,e=a.controlledState.playbackState;if(c.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){w(a,b);j.isLoggingScrubbingSequence=!0;return u}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!j.isLoggingScrubbingSequence&&d!=="paused"&&d!=="ended"&&!j.hasPendingRequestedPlaying){w(a,b);j.shouldLogRequestedPlayingForScrub=!0;return u}else if(c.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&d!=="paused"&&d!=="ended"){v(a,b,{video_time_position:c.payload.seekTargetPosition});return u}else if(a.controlledState.seeking&&!b.controlledState.seeking){j.shouldLogRequestedPlayingForScrub&&d!=="paused"&&d!=="ended"&&v(a,b);t({eventType:"scrubbed",prevState:a,state:b});j.isLoggingScrubbingSequence=!1;j.shouldLogRequestedPlayingForScrub=!1;e!=="paused"&&e!=="ended"&&(j.canLogPlayingEvent=!0);return u}else return u}function C(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&j.canLogPausedOrFinishedPlaying){t({eventType:"finished_playing",prevState:a,state:b});j.canLogPausedOrFinishedPlaying=!1;return u}else return u}function D(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!j.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){w(a,b);return u}else return u}function E(a,b,c){var d=b.controlledState.playbackState;if((c.type==="implementation_unmounted"||c.type==="implementation_engine_destroy_requested")&&d!=="paused"&&d!=="ended"){w(a,b,{debug_reason:"unloaded"});return u}else return u}function F(a,c,d){__p&&__p();d=c.controlledState.muted;var e=c.controlledState.volume,f=a.controlledState.muted,g=a.controlledState.volume;d=h({currMuted:d,currVolume:e,prevMuted:f,prevVolume:g});f={current_volume:Math.round(e*100)};switch(d){case"muted":t({eventType:"muted",logDataOverrides:f,prevState:a,state:c});return u;case"unmuted":t({eventType:"unmuted",logDataOverrides:f,prevState:a,state:c});return u;case null:if(g<e){t({eventType:"volume_increase",logDataOverrides:f,prevState:a,state:c});return u}else if(g>e){t({eventType:"volume_decrease",logDataOverrides:f,prevState:a,state:c});return u}else return u;default:d;b("recoverableViolation")('Unexpected mutedStateChange "'+d+'"',"comet_video_player");return u}}function G(a,b,c){__p&&__p();c=b.uncontrolledState.videoRepresentationID;var d=j.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){t({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});j.lastTrackedRepresentation=c;return u}else if(d==null){j.lastTrackedRepresentation=c;return u}else return u}function H(a,c){var e=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(d.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:d.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:d.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(g||(g=b("mapObject")))(b("VideoMimeTypes"),k),dimensions:d.dimensions?{height:d.dimensions.height,width:d.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,inPlayStallCount:void 0,inPlayStallTime:void 0,initializationTime:void 0,initializationTimestamp:void 0,interruptCount:void 0,interruptTime:void 0,lastError:e,loggedError:j.lastLoggedError,stack:e==null?void 0:e.stack,stallCount:j.stallCount,stallTime:j.stallDuration,state:s(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:c,state:a}}}function I(a,b,c){var d=b.controlledState.error;if(d!=null&&d!==j.lastLoggedError){var e=d.errorCode,f=d.errorDescription,g=d.errorName,h=d.url;c=H(b,c);t({eventType:"error",logDataOverrides:{error:g,error_code:e,error_description:f,error_user_info:JSON.stringify(c),resource_url:h},prevState:a,state:b});j.lastLoggedError=d}return u}function J(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?j.nextHeartbeatTime=null:c!=="stalling"&&j.nextHeartbeatTime==null&&(j.nextHeartbeatTime=Date.now()+i);var d=j.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&t({eventType:"heart_beat",prevState:a,state:b}),j.nextHeartbeatTime=e+i)}return u}function K(a,b,c){if(c.type==="implementation_mounted"){t({eventType:"player_loaded",prevState:a,state:b});return u}else return u}function L(a,b,c){t({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function M(a,b,c){c=d.coreVideoPlayerMetaData.playerFormat;e.coreVideoPlayerMetaData.playerFormat!==c&&t({eventType:"player_format_changed",prevState:a,state:b});return u}function N(a,b,c){__p&&__p();if(c.type!=="notify_fullscreen_changed")return u;c=j.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){L(a,b,d);return u}else if(c===!0&&d===!1){L(a,b,d);return u}else return u}function O(a,b,c){c=b.controlledState.playbackState;var d=j.lastLoggedViewabilityPercentage,e=b.uncontrolledState.viewabilityPercentage;if(c!=="paused"&&c!=="ended"&&d!=null&&d!==e){t({eventType:"viewability_changed",prevState:a,state:b});j.lastLoggedViewabilityPercentage=e;return u}else return u}function P(a,b,c){if(c.type==="controller_set_captions_visible_requested"){t({eventType:"caption_change",prevState:a,state:b});return u}else return u}function Q(a){e=d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}return{consumeLoggerEvents:function(){var a=f.splice(0);return a},getLoggerState:function(){return j},handleStateMachine:function(a,b,c){__p&&__p();Q(c);var d=b.controlledState.playbackState;q(a,b);var e=[M,N,O,y,z,B,A,C,D,F,E,K,P,G,I,J];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(j.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(j.hasPausedOnce=!0,j.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(j.hasPausedOnce=!0,j.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(j.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(j.shouldIgnoreDomPlay=!1,j.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},setAdditionalLogData:function(a,b){c.set(a,b)}}}e.exports={HEARTBEAT_INTERVAL:i,createVideoPlayerImplementationStateMachineLogger:a}}),null);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}e.exports=a}),null);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI;a=a.videoPlayerPassiveViewabilityInfoRef;if(e==null){var f={audioRepresentationID:void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return f}f=e.getPlayheadPosition();d={audioRepresentationID:c?c.getAudioRepresentationIDAtTime(f):void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:c?c.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:c?c.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:c?c.isFBIsLiveTemplated():void 0,isFBMS:c?c.isFBMS():void 0,isFBWasLive:c?c.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:f,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:c?c.getVideoRepresentationIDAtTime(f):void 0,viewabilityPercentage:a&&a.current?b("convertToViewabilityPercentage")(a.current.getCurrent().visiblePercentage):void 0};return d}e.exports={createVideoPlayerImplementationStateMachineStateUncontrolledState:a}}),null);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState;function a(a){var b=a.alwaysShowCaptions,c=a.isAbrEnabled,d=a.playerImplementationName,e=a.playerVersion;a=a.streamingFormat;var f=!0,h=1,i=g({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,availableQualities:[],bufferingDetected:!1,captionsLoaded:!1,captionsVisible:b,error:null,hostCallPlayIDLast:null,hostCallQueue:[],inbandCaptionsAutogenerated:!1,lastMuteReason:null,lastPauseReason:null,lastPlayReason:null,muted:f,playbackState:"paused",scrubbing:!1,seekTargetPosition:null,seeking:!1,selectedVideoQuality:"notselected",streamEnded:!1,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",volume:h,waitingForDomPlaying:!1},isAbrEnabled:c,playerImplementationName:d,playerVersion:e,streamingFormat:a,uncontrolledState:i}}e.exports={createVideoPlayerImplementationStateMachineInitialState:a}}),null);
__d("VideoPlayerImplementationEngineAPI",["Banzai","ErrorSerializer","FBLogger","React","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","deepEquals","killswitch","recoverableViolation","removeFromArray","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useStable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useRef,i=b("React").useState,j=b("VideoPlayerCaptionsController").createCaptionsController,k=b("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine,l=b("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithEffects,m=b("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall,n=b("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue,o=b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID,p=b("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger,q=b("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState,r=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState,s=b("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI;function t(a){__p&&__p();var c=a.concurrentAutoplayManagementAPI,d=a.fullscreenControllerRef,e=a.getCurrentExposedState,f=a.getCurrentIsFullscreen,g=a.getCurrentPlayheadPosition,h=a.pauseImpl,i=a.playImpl,j=a.scrubBeginImpl,k=a.scrubEndImpl,l=a.seekImpl,m=a.selectVideoQualityImpl,n=a.setAdditionalLogDataImpl,o=a.setCaptionsVisibleImpl,p=a.setMutedImpl,q=a.setVolumeImpl,r=a.subscribers,s=new Set(),t=!1,u=null,v={freeze:function(){__p&&__p();if(!e().paused)throw b("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var c=!1;s.size===0&&(c=!0,u={exposedState:e(),isFullscreen:f(),playheadPosition:g()});s.add(a);c&&(t=!0,r.forEach(function(a){a()}))}finally{t=!1}return a},isFrozen:function(){return u!=null},unfreeze:function(a){s["delete"](a),s.size===0&&(u=null,r.forEach(function(a){a()}))}};return babelHelpers["extends"]({},c,v,{getCurrentState:function(){return u!=null?u.exposedState:e()},getIsFullscreen:function(){return u!=null?u.isFullscreen:f()},getPlayheadPosition:function(){return u!=null?u.playheadPosition:g()},pause:function(a){if(v.isFrozen())return;h(a)},play:function(a){if(v.isFrozen())return;i(a)},requestSetIsFullscreen:function(a){if(v.isFrozen())return;var b=d.current;b&&b.requestSetIsFullscreen(a)},scrubBegin:function(){if(v.isFrozen())return;j()},scrubEnd:function(a){if(v.isFrozen())return;k(a)},seek:function(a){if(v.isFrozen())return;l(a)},selectVideoQuality:function(a){if(v.isFrozen())return;m(a)},setAdditionalLogData:function(a,b){n(a,b)},setCaptionsVisible:function(a){if(v.isFrozen())return;o(a)},setMuted:function(a,b){if(v.isFrozen())return;p(a,b)},setVolume:function(a){if(v.isFrozen())return;q(a)},subscribe:function(a){var c=function(){if(v.isFrozen()&&!t)return;a()},e=d.current,f=e?e.subscribe(c):null;r.push(c);return{remove:function(){f&&f.remove(),b("removeFromArray")(r,c)}}}})}function u(a){__p&&__p();var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.fullscreenControllerRef,e=a.logger,f=a.machine;a=a.subscribers;return t({concurrentAutoplayManagementAPI:b,fullscreenControllerRef:d,getCurrentExposedState:function(){return c(f.getCurrentState())},getCurrentIsFullscreen:function(){var a=d.current;return a?a.getIsFullscreen():!1},getCurrentPlayheadPosition:function(){var a,b=0;return(a=f.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},pauseImpl:function(a){f.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){f.dispatch({payload:{reason:a},type:"controller_play_requested"})},scrubBeginImpl:function(){f.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){f.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){f.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){f.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setAdditionalLogDataImpl:function(a,b){e.setAdditionalLogData(a,b)},setCaptionsVisibleImpl:function(a){f.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setMutedImpl:function(a,b){f.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setVolumeImpl:function(a){f.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:a})}function v(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function w(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("EngineExtrasAPI is not available now","comet_video_player");return a}function x(a){__p&&__p();var b=a.augmentDebugTools,c=a.engineExtrasAPIRef,d=a.logger,e=a.videoElementAPIRef;return b({getAudioRepresentationId:function(){var a=e.current,b=c.current;return b==null||a==null?null:b.getAudioRepresentationIDAtTime(a.getPlayheadPosition())},getCurrentAudioMimeCodecs:function(){var a=c.current;if(a==null)return null;a=a.getCurrentAudioRepresentation();return a!=null?a.getMimeCodecs():null},getCurrentAudioRepresentation:function(){var a=c.current;return a==null?null:a.getCurrentAudioRepresentation()},getCurrentVideoMimeCodecs:function(){var a=c.current;if(a==null)return null;a=a.getCurrentVideoRepresentation();return a!=null?a.getMimeCodecs():null},getCurrentVideoRepresentation:function(){var a=c.current;return a==null?null:a.getCurrentVideoRepresentation()},getDrmProtectionStatus:function(){var a=c.current;return a==null?!1:a.isDrm()},getDroppedFrameCount:function(){var a=e.current;return a==null?null:a.getDroppedFrameCount()},getManifest:function(){return null},getManifestUrl:function(){return null},getOzBufferingDetector:function(){return null},getOzPlayer:function(){return null},getPlayheadPosition:function(){var a=e.current;return a==null?null:a.getPlayheadPosition()},getStreamType:function(){var a=c.current;return a==null?null:a.getStreamType()},getTotalFrameCount:function(){var a=e.current;return a==null?null:a.getTotalFrameCount()},getTotalStallCount:function(){var a=d.getLoggerState();return a.stallCountTotal},getTotalStallDuration:function(){var a=d.getLoggerState();return a.stallDurationTotal},getTotalStartStallCount:function(){var a=d.getLoggerState();return a.startStallCountTotal},getTotalStartStallDuration:function(){var a=d.getLoggerState();return a.startStallDurationTotal},getVideoElement:function(){var a=e.current;return a==null?null:a.getUnderlyingVideoElement()},getVideoRepresentationId:function(){var a=e.current,b=c.current;return b==null||a==null?null:b.getVideoRepresentationIDAtTime(a.getPlayheadPosition())},useSegmentData:function(){return null},useSourceBuffer:function(){return null}})}function y(a){__p&&__p();var b=a.alwaysShowCaptions,c=a.captionsControllerRef,d=a.engineExtrasAPIRef,e=a.engineMetadata,f=a.fullscreenControllerRef,g=a.handleFatalError,h=a.handleStateMachine,i=a.updateLoopStateOnImplementationEndedRef,j=a.videoElementAPIRef,k=a.videoPlayerPassiveViewabilityInfoRef;function p(a){m({engineExtrasAPI:d.current,hostCall:a,machine:s,videoElementAPI:j.current})}a=[function(a,b,c){h(a,b,c);return!0},function(a,b,c){if(!(c.type==="implementation_engine_initialized"))return!0;a=v(j);var e=w(d);c=c.type;n({engineExtrasAPI:e,machine:s,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=i.current;a();return!1},function(a,b,c){if(!(c.type==="controller_pause_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="paused"))return!1;p({payload:{hostCallID:o(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(!(c.type==="controller_play_requested"))return!0;a=b.controlledState.playbackState;if(!(a==="stalling"))return!1;p({payload:{hostCallID:o(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(!(c.type==="controller_seek_requested"))return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&p({payload:{currentTime:a,hostCallID:o(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(!(c.type==="controller_muted_requested"))return!0;a=b.controlledState.muted;if(!(a===c.payload.muted))return!1;p({payload:{hostCallID:o(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_begin_requested"))return!0;p({payload:{hostCallID:o(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_scrub_end_requested"))return!0;a=b.controlledState;b=a.seeking;var d=a.seekTargetPosition;a=a.targetPlaybackRate;b&&d!=null?(p({payload:{hostCallID:o(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),p({payload:{currentTime:d,hostCallID:o(),reason:c.type+":seek"},type:"host_call_set_current_time"})):p({payload:{hostCallID:o(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_begin_requested"))return!0;p({payload:{hostCallID:o(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="buffering_end_requested"))return!0;p({payload:{hostCallID:o(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(!(c.type==="controller_volume_requested"))return!0;p({payload:{hostCallID:o(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(!(c.type==="controller_quality_requested"))return!0;p({payload:{hostCallID:o(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,d){__p&&__p();if(!(d.type==="dom_event_timeupdate"||d.type==="captions_loaded"))return!0;d=c.current;var e=b.controlledState.captionsVisible;if(d&&e&&b.controlledState.captionsLoaded){e=j.current;b=d.handleTimeUpdate(e?e.getPlayheadPosition():0);d=a.controlledState.activeCaptions;z(d,b)&&s.dispatch({payload:{activeCaptions:b},type:"controller_set_active_captions_requested"})}return!1},function(a,b,d){__p&&__p();if(!(d.type==="cea608_bytes_received"))return!0;a=c.current;if(a){b=d.payload;d=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:d,videoBytes:b})}return!1}];var s=l({collectUncontrolledState:function(){var a=j.current,b=d.current;return r({engineExtrasAPI:b,fullscreenControllerRef:f,videoElementAPI:a,videoPlayerPassiveViewabilityInfoRef:k})},effects:a,initialState:q({alwaysShowCaptions:b,isAbrEnabled:e.isAbrEnabled,playerImplementationName:e.playerImplementationName,playerVersion:e.playerVersion,streamingFormat:e.streamingFormat}),onFatalError:g});return s}function z(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function A(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function B(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function C(a){__p&&__p();var b=a.debugTools,c=a.engineMetadata;a=a.state;var d=a.controlledState,e=d.activeCaptions,f=d.availableQualities,g=d.captionsLoaded,h=d.captionsVisible,i=d.error,j=d.inbandCaptionsAutogenerated,k=d.lastMuteReason,l=d.lastPauseReason,m=d.lastPlayReason,n=d.muted,o=d.playbackState,p=d.seeking,q=d.seekTargetPosition,r=d.selectedVideoQuality,s=d.streamInterrupted,t=d.targetAudioQuality,u=d.targetVideoQuality;d=d.volume;var v=a.uncontrolledState,w=v.currentPlayingVideoQuality,x=v.videoElementDuration;v=v.videoElementLastBufferEndPosition;var y=o==="ended",z=o==="paused"||y,A=o==="playing",B=o==="inPlayStalling";o=o==="stalling"||B;v={VideoStateDebugApiTools:b,activeCaptions:e,availableVideoQualities:f,bufferEnd:(b=v)!=null?b:0,captionsLoaded:g,captionsVisible:h,currentVideoQuality:(e=w)!=null?e:"",duration:(f=x)!=null?f:0,ended:y,error:i,inPlayStalling:B,inbandCaptionsAutogenerated:j,isAbrEnabled:c.isAbrEnabled,lastMuteReason:k,lastPauseReason:l,lastPlayReason:m,muted:n,paused:z,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:A,seekTargetPosition:q,seeking:p,selectedVideoQuality:r,stalling:o,streamInterrupted:s,targetAudioQuality:t,targetVideoQuality:u,volume:d};return v}function a(a){__p&&__p();var c,d=a.augmentDebugTools,e=a.createVideoPlayerError,f=a.debugLog,g=a.destroy,h=a.engineMetadata,i=a.handleFatalError,l=a.handleVideoElementMounted,m=a.handleVideoElementUnmounted,n=a.handleVideoInfoChange;f=a.initialProps;var o=a.setExposedStateInReact,q=p({initialLoggingMetaData:f.loggingMetaData}),r=new(b("VideoPlayerBanzaiLogFlusher"))(q),t={current:(a=f.videoPlayerPassiveViewabilityInfo)!=null?a:null},v={current:(a=f.fullscreenController)!=null?a:null},w={current:null},z={current:f.updateLoopStateOnImplementationEnded};a=s();var D=[],E=function(){D.forEach(function(a){a()}),r.flushLogs()},F={current:null},G={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:f.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:f.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(c=f.captionsUrl)!=null?c:null}},H={current:null},I={current:null},J=new(b("SubscriptionsHandler"))(),K=!1,L={current:null},M={current:null},N=x({augmentDebugTools:d,engineExtrasAPIRef:M,logger:q,videoElementAPIRef:L}),O=function(a){a=C({debugTools:N,engineMetadata:h,state:a});return a},P={current:null},Q={current:null},R=function(a){__p&&__p();if(K){if(a===P.current)return;var c=O(a);if(Q.current!=null&&b("deepEquals")(Q.current,c))return;P.current=a;Q.current=c;o(c)}};c=function(a,b,c){q.handleStateMachine(a,b,c),R(b),E()};var S=function(a,b){};d=function(a){S(a,"state_machine_fatal_error")};var T=y({alwaysShowCaptions:Boolean(f.alwaysShowCaptions),captionsControllerRef:w,engineExtrasAPIRef:M,engineMetadata:h,fullscreenControllerRef:v,handleFatalError:d,handleStateMachine:c,updateLoopStateOnImplementationEndedRef:z,videoElementAPIRef:L,videoPlayerPassiveViewabilityInfoRef:t}),U=!1,V=function(a){__p&&__p();var b=L.current!=null||M.current!=null;J.release();T.dispatch({payload:{reason:a,willDestroy:b},type:"implementation_engine_destroy_requested"});try{U||(U=!0,g())}catch(a){}b=w.current;b!=null&&(T.getCurrentState().controlledState.captionsLoaded&&T.dispatch({type:"captions_unloaded"}),w.current=null,b.destroy());A(null,v,H,T);B(null,t,I,T);T.dispatch({payload:{reason:a},type:"implementation_engine_destroyed"})};S=function(a,b){a=e(a,b);T.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});V("implementation_fatal_error");i(a)};function W(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function X(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function Y(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var Z=function(a){var b=W(a),c=X(a),d=Y(a),e=w.current;d!==Y(G.current)&&T.dispatch({payload:{inbandCaptionsAutogenerated:d},type:"inband_captions_autogenerated_changed"});e!=null?c!==X(G.current)&&(e.updateInbandCaptionsExpected(c),!c&&T.getCurrentState().controlledState.captionsLoaded&&T.dispatch({type:"captions_unloaded"})):(b||c)&&e==null&&(w.current=j({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){T.getCurrentState().controlledState.captionsLoaded||T.dispatch({type:"captions_loaded"})}}));G.current=a},$=function(a){var b=M.current;b!=null&&a&&a.width>0&&a.height>0&&b.setDimensions(a)},aa=function(a){"srcObject"in a&&(a.srcObject=null)};f=function(a){if(F.current===a)return;a!=null&&F.current!=null&&F.current!==a&&b("recoverableViolation")("The video element was recreated","comet_video_player");var c=F.current;c&&aa(c);F.current=a;F.current!=null?(T.dispatch({type:"implementation_video_node_mounted"}),l()):(T.dispatch({type:"implementation_video_node_unmounted"}),m())};d=function(a){__p&&__p();var b;if(!K)return;z.current=a.updateLoopStateOnImplementationEnded;A((b=a.fullscreenController)!=null?b:null,v,H,T);B((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,t,I,T);if(!n(a)){b={inbandCaptionsAutogeneratedFromManifest:G.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:G.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};Z(b);$(a.loggingMetaData.dimensions)}T.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};c=function(){K||(K=!0,J.addSubscriptions(b("RunComet").onUnload(function(){V("page_unload")})),J.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){V("banzai_shutdown")})),T.dispatch({type:"implementation_mounted"}),l())};var ba=function(){K&&(K=!1,T.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),V("implementation_unmounted:react_effect_cleanup"))};a=u({concurrentAutoplayManagementAPI:a,createExposedState:O,fullscreenControllerRef:v,logger:q,machine:T,subscribers:D});var ca=k(T,f),da=O(T.getInitialState());c={debugTools:N,destroy:V,handleReactMount:c,handleReactPropsChanged:d,handleReactUnmount:ba,handleVideoElement:f,implementationController:a,initialExposedState:da,logFlusher:r,logger:q,machine:T,notifySubscribers:E,videoElementCallbacks:ca};return{captionsInfoRef:G,engine:c,engineExtrasAPIRef:M,handleCaptionsInfoChange:Z,handleFatalImplementationError:S,machine:T,videoElementAPIRef:L,videoElementRef:F}}function c(a,c){__p&&__p();var d=i(null),e=d[0],f=d[1];d=i(null);var j=d[0],k=d[1],l=h(a),m=h(c),n=b("useStable")(function(){return m.current({handleFatalError:k,initialProps:l.current,setExposedStateInReact:f})});c=(d=e)!=null?d:n.initialExposedState;d=(e=c.error)!=null?e:j;if(d!=null){e=d.errorName+": "+d.errorDescription;j=d.originalError instanceof Error?d.originalError:void 0;if(b("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw b("unrecoverableViolation")(e,"comet_video_player",{error:j});if(j)try{b("ErrorSerializer").aggregateError(j,{forcedKey:d.errorName,messageFormat:e})}catch(a){new(b("FBLogger"))("aggregate_error").warn("Aggregating error:%s in Video failed: %s",j.name,a.message)}throw b("unrecoverableViolation")(e,"comet_video_player",{error:j})}g(function(){n.handleReactMount();return function(){n.handleReactUnmount()}},[n]);var o=h(null);g(function(){a!==o.current&&n.handleReactPropsChanged(a),o.current=a});return[c,n]}e.exports={createVideoPlayerImplementationEngine:a,internal_createVideoPlayerImplementationEngineStateMachineWithEffects:y,internal_createVideoPlayerImplementationExposedStateFromStateMachineState:C,internal_createVideoPlayerImplementationControllerImpl:t,useVideoPlayerImplementationEngine:c}}),null);
__d("VideoPlayerImplementationReactVideoElement.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.implementationController,d=a.implementationExposedState,e=a.renderWithVideoImplementationStates,f=a.src,g=a.videoElementCallbacks;a=a.videoElementRefCallback;g=b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("video",babelHelpers["extends"]({className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:!0},g,{ref:a,src:f})),e({implementationController:c,videoState:d})]});return g}e.exports=a}),null);
__d("useForceUpdate",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useReducer;function a(){var a=g(function(a){return a+1},0);a[0];a=a[1];return a}e.exports=a}),null);
__d("VideoPlayerDataSource",["React","removeFromArray","useForceUpdate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useState;function a(a){__p&&__p();var c,d=b("useForceUpdate")();c=h((c=a==null?void 0:a.value)!=null?c:null);var e=c[0],f=c[1];g(function(){__p&&__p();var c=a==null?void 0:a.onChangeHandlers;if(c){var e=function(){var b;f((b=a==null?void 0:a.value)!=null?b:null);d()};c.push(e);return function(){b("removeFromArray")(c,e)}}},[d,a]);return e}function c(a){return{onChangeHandlers:[],value:a}}function d(a){a=a.onChangeHandlers;a.forEach(function(a){a()})}e.exports={createDataSource:c,notifyAllDataSourceHandlers:d,useDataSourceSubscriptionState:a}}),null);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames;function i(a){return isNaN(a)?0:a}function j(a){return i(a.duration)}function k(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function l(a){return i(a.currentTime)}function a(a){__p&&__p();return{getDroppedFrameCount:function(){return g(a)},getDuration:function(){return j(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return k(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return l(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return h(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){a.currentTime=b},setSrc:function(b){b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b)},setVolume:function(b){a.volume=b}}}e.exports={createVideoPlayerImplementationEngineVideoElementAPI:a,getDurationFromVideoElement:j,getLastBufferEndPositionFromVideoElement:k,getPlayheadPositionFromVideoElement:l}}),null);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("emptyFunction");function g(a){return a.getCurrentQuality()}function h(a){return g(a)}function i(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getCurrentQuality();return a}function j(a,b){__p&&__p();var c=i(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getCurrentQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function a(a){__p&&__p();var c={getAudioRepresentationIDAtTime:function(b){return(b=a.getAudioRepresentationIDAtTime(b))!=null?b:null},getAvailableVideoQualities:function(){return a.getVideoQualities()},getCurrentAudioRepresentation:function(){var b;return(b=a.getCurrentAudioRepresentation())!=null?b:null},getCurrentPlayingVideoQuality:function(){return h(a)},getCurrentTargetVideoQuality:function(){return g(a)},getCurrentVideoRepresentation:function(){var b;return(b=a.getCurrentVideoRepresentation())!=null?b:null},getEstimatedBandwidth:function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var b=a.getMpd();return Boolean(b.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var b=a.getMpd();return Boolean(b.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(b.getCustomField("hasInbandCaptionsFromAccessibility"))},getStreamType:function(){return"dash"},getUserSelectedVideoQuality:function(){return i(a)},getVideoRepresentationIDAtTime:function(b){return(b=a.getVideoRepresentationIDAtTime(b))!=null?b:null},isDrm:function(){return a.isDrm()},isFBIsLiveTemplated:function(){var b=a.getMpd();return Boolean(b.getCustomField("isFBIsLiveTemplated"))},isFBMS:function(){var b=a.getMpd();return Boolean(b.getCustomField("isFBMS"))},isFBWasLive:function(){var b=a.getMpd();return Boolean(b.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var b;b=(b=a.getMpd().getVideoRepresentations()[0])!=null?b:null;return b!==null&&b.canPredict()},setDimensions:function(b){b!=null&&a.setDimensions({height:b.height,width:b.width})},setUserSelectedVideoQuality:function(b){j(a,b)}};return c}e.exports={createVideoPlayerOzImplementationEngineExtrasAPI:a}}),null);
__d("VideoPlayerVersions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HTML5:"html5",PLEASANTVILLE:"pleasantville",REACT:"react",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",SILVERCITY:"silvercity",OZ:"oz",REACT_OZ:"react_oz",COMET_OZ:"comet_oz",COMET_PROGRESSIVE:"comet_progressive",OLD_API_EXO:"old_api_exo",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_PSR:"old_api_psr",HEROPLAYER:"heroplayer",HEROPLAYER2:"heroplayer2",HEROPLAYER_GROOT_ELIGIBLE:"heroplayer_groot_eligible",HEROPLAYER2_GROOT_ELIGIBLE:"heroplayer2_groot_eligible",HEROPLAYER_CORE_PLUGINS:"heroplayer_only_core_plugins",HEROPLAYER_NON_CORE_PLUGINS:"heroplayer_other_plugins",HEROPLAYER2_CORE_PLUGINS:"heroplayer2_only_core_plugins",HEROPLAYER2_NON_CORE_PLUGINS:"heroplayer2_other_plugins",GROOTPLAYER:"grootplayer",GROOT:"groot",FNF:"fnf",LEGACY:"legacy",REFACTORED:"refactored",MBASIC:"mbasic",MTOUCH_SHAKA_LIVE:"mtouch_shaka_live",MTOUCH_SPHERICAL:"mtouch_360",MTOUCH_OZ:"mtouch_oz",CASTING_DEBUG:"casting_debug",CHROMECAST:"chromecast",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",HERO_SURFACE:"hero_surface",HERO_TEXTURE:"hero_texture",UNKNOWN:"unknown"})}),null);
__d("VideoPlayerOzImplementationEngine",["BanzaiODS","CometThrottle","HTML5OzDrmHelper","OzCustomParsers","OzCustomRepresentationParsers","OzDashPrefetchCache","URI","VideoPlayerConnectionQuality","VideoPlayerDataSource","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationHelper","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerShakaPerformanceLogger","VideoPlayerVersions","emptyFunction","getOzPlaybackRestrictions","gkx","oz-player","oz-player/networks/OzBandwidthEstimator","oz-player/parsers/OzPredictedSegmentTimelineParser","oz-player/strategies/OzBufferingDetector","oz-player/utils/OzError","requestManifest","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("OzCustomParsers").createOzCustomParser,i=b("OzCustomRepresentationParsers").createOzCustomRepresentationParsers,j=b("VideoPlayerDataSource").createDataSource,k=b("VideoPlayerDataSource").notifyAllDataSourceHandlers,l=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine,m=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI,n=b("VideoPlayerImplementationHelper").createVideoPlayerErrorFromUnknownError,o=b("VideoPlayerImplementationHelper").insertSegment,p=b("VideoPlayerImplementationHelper").insertSourceBuffer,q=b("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI,r=b("emptyFunction"),s=2079,t=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,u=function(a){return t.test(a.getDomain())};function v(a){__p&&__p();var b=a.debugTools,c=a.ozBufferingDetectorRef,d=a.ozPlayerRef,e=a.playingVideoInfoRef,f=a.segmentDataSource,g=a.sourceBufferDataSource;return babelHelpers["extends"]({},b,{getManifest:function(){var a;return(a=(a=e.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=e.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:function(){var a;return(a=c.current)!=null?a:null},getOzPlayer:function(){var a;return(a=d.current)!=null?a:null},useSegmentData:function(){return f},useSourceBuffer:function(){return g}})}function w(a,c){if(a instanceof b("oz-player/utils/OzError")){var d=a,e=d.getExtra();return{errorCode:e.code,errorDescription:d.getDescription(),errorLocation:c,errorName:d.getType(),stack:d.stack,url:e.url}}else return n("OZ_JAVASCRIPT_NATIVE",a,c)}function x(a){var c=a.getBandwidthEstimate,d=a.initialProps,e=a.playerVersion,f=a.videoElement;a=a.videoFBID;if(!b("VideoPlayerShakaPerformanceLogger").shouldInitialize())return[];var g=d.loggingMetaData.coreVideoPlayerMetaData;return[new(b("VideoPlayerShakaPerformanceLogger"))({accessToken:null,getBandwidthEstimate:c,isLive:Boolean(g.isLiveStreaming),isServableViaFbms:!1,playerOrigin:null,playerSuborigin:g.subOrigin,playerVersion:e,representationId:null,uniqueID:d.loggingMetaData.instanceKey,video:f,videoID:(c=a)!=null?c:""})]}function y(a){__p&&__p();var c=a.OzPlayerImpl,d=a.captionsInfoRef,e=a.getBandwidthEstimate,f=a.handleCaptionsInfoChange,g=a.handleFatalImplementationError,j=a.initialProps,l=a.machine,m=a.playerVersion,n=a.resolvedVideoInfo,r=a.segmentDataSource,s=a.sourceBufferDataSource,t=a.videoElement,v=a.videoElementAPI,w=n.experimentationConfig;a=n.graphQLVideoDRMInfo;var y=n.manifestUrl,z=n.manifestXmlStringResolved,A=n.minQualityPreference;n=n.videoFBID;var B=j.loggingMetaData.dimensions,C=a?b("HTML5OzDrmHelper").OzDrmManagerModule:null,D=[];a&&n!=null&&D.push(new(b("HTML5OzDrmHelper").OzWidevineDrmProviderModule)(n,a.graphApiVideoLicenseUri,a.videoLicenseUriMap,null,null));a=x({getBandwidthEstimate:e,initialProps:j,playerVersion:m,videoElement:t,videoFBID:n});function E(a){return a>0?a/1e3*-1:w.getNumber("live_initial_playback_position",0)}function F(a,b){return a>0&&b>0?(a+b)/1e3:w.getNumber("livehead_fall_behind_block_threshold",0)}function G(a){return a>0?a/2/1e3:w.getNumber("live_time_range_block_margin",0)}C=new c({config:w,customParsers:h(),customRepresentationParsers:i({ozConfig:w}),customSegmentTimelineParser:w.getBool("enable_predictive_dash",!1)?new(b("oz-player/parsers/OzPredictedSegmentTimelineParser"))():void 0,dimensions:{height:B.height,width:B.width},drmManagerModule:C,drmProviders:D,getShouldIncludeCredentials:w.getBool("use_oz_credentials_provider",!1)?u:null,initialPlaybackPositionForDynamicMpd:E((e=j.initialDesiredLatencyMs)!=null?e:0),initialRepresentationIDs:(m=j.initialRepresentationIds)!=null?m:[],liveheadFallBehindBlockMargin:G((n=j.initialDesiredLatencyMs)!=null?n:0),liveheadFallBehindBlockThreshold:F((c=j.initialDesiredLatencyMs)!=null?c:0,(B=j.initialLatencyToleranceMs)!=null?B:0),loggerConfig:{isOzDevConsoleEnabled:b("gkx")("722076"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:y,prefetchCache:w.getBool("use_prefetch_cache",!1)?new(b("OzDashPrefetchCache"))():null,rawMpdXml:z,startTimeStamp:w.getBool("fix_start_timestamp",!1)?j.startTimestamp:0,videoNodeOrQuickStarter:t,videoPlaybackRestrictions:b("getOzPlaybackRestrictions")(A,{keepLowestMosAboveUpperThresold:w.getBool("keep_lowest_mos_above_upper_thresold",!1),mosLowerThreshold:w.getNumber("mos_lower_threshold",0),mosUpperThreshold:w.getNumber("mos_upper_threshold",0)})});C.onError(function(a){g(a,"oz_player_error")});C.setupPlayer();C.addListener("switchVideoRepresentation",function(){l.dispatch({payload:{targetVideoQuality:H.getCurrentTargetVideoQuality()},type:"representation_changed"})});C.addListener("streamInterruptAt",function(){l.dispatch({type:"stream_interrupted"})});C.addListener("streamResumedAt",function(){l.dispatch({type:"stream_resumed"})});C.addListener("debug/dashPlayerEvent",function(a){a=a.detail;var b=a.type;switch(b){case"SegmentAppended":b=r.value;var c=s.value;o(b,a);p(c,a);k(r);k(s)}});C.addListener("streamEnd",function(){l.dispatch({type:"stream_ended"})});var H=q(C);D=new(b("oz-player/strategies/OzBufferingDetector"))(t,w,function(){var a=l.getCurrentState();a=a.controlledState;return a.streamEnded?v.getDuration():Infinity});E=function(){if(b("gkx")("1235655"))return;l.dispatch({type:"buffering_begin_requested"})};e=function(){l.dispatch({type:"buffering_end_requested"})};D.addListener("enter_buffering",E);D.addListener("leave_buffering",e);if(w.getBool("emit_cea_608_availability",!1)){m=function(){var a;a={inbandCaptionsAutogeneratedFromManifest:H?H.getInbandCaptionsAutogeneratedFromManifest():!1,inbandCaptionsExpectedFromManifest:H?H.getInbandCaptionsExpectedFromManifest():!1,inbandCaptionsExpectedFromProps:(a=d.current)==null?void 0:a.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:(a=d.current)==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:(a=d.current)==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=l.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&f(a)};G=function(a,b){a=a.getCustomField("timescale")||0;l.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})};C.getMpd().addListener("updated",m);w.getBool("parse_cea_608",!1)&&C.updatePlayerRunTimeConfig({videoStreamDataHandler:G})}H.isPredictiveDash()&&w.setContext("latency_level","predictive");f({inbandCaptionsAutogeneratedFromManifest:H.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:H.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:(n=d.current)==null?void 0:n.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:(F=d.current)==null?void 0:F.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:(c=d.current)==null?void 0:c.sideLoadCaptionsUrlFromProps});return{engineExtrasAPI:H,ozBufferingDetector:D,ozPlayer:C}}function a(a){__p&&__p();var c=a.handleFatalError,d=a.initialProps;a=a.setExposedStateInReact;var e={current:null},f={current:null},h={current:null},i={current:null},k={current:null},n={current:null},o=j([[],[]]),p=j([null,null,null]),q="comet_oz",t=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},x=function(a,b){return a.videoFBID!==b.videoFBID},z=function(a,b){f.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}),H.dispatch({type:"implementation_engine_manifest_inlined"}),C()},A=function(a,c){__p&&__p();var d=function(b){if(e.current!==a)return;f.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b});H.dispatch({payload:{manifestUrl:c},type:"implementation_engine_manifest_download_success"});C()},h=function(b){if(e.current!==a)return;H.dispatch({payload:{manifestError:b,manifestUrl:c,reason:"manifest_download_error"},type:"implementation_engine_manifest_download_error"});G(b,"manifest_download_error")},i=function(b){if(e.current!==a)return;H.dispatch({payload:{manifestError:b,manifestUrl:c,reason:"manifest_download_exception"},type:"implementation_engine_manifest_download_error"});G(b,"manifest_download_exception")};H.dispatch({payload:{manifestUrl:c},type:"implementation_engine_manifest_download_requested"});b("requestManifest")(c,a.experimentationConfig.getBool("use_oz_credentials_provider",!1)?u(new(g||(g=b("URI")))(c)):!1).then(d,h)["catch"](i)},B=function(a){__p&&__p();var c;c={experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,manifestUrl:(c=a.manifestUrl)!=null?c:null,manifestXmlStringInitial:(c=a.manifest)!=null?c:null,minQualityPreference:a.minQualityPreference,videoFBID:a.videoFBID};a=!1;if(e.current==null)a=!0;else if(e.current!=null&&!x(c,e.current)&&t(c,e.current))b("BanzaiODS").bumpEntityKey(s,"OzImplementation","manifest_reloaded"),a=!1;else if(e.current!=null&&x(c,e.current))throw b("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!a)return!1;a=c.manifestUrl;var d=c.manifestXmlStringInitial;if(d==null&&a==null)throw b("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");e.current=c;d!==null?z(c,d):a!==null&&A(c,a);return!0},C=function(){__p&&__p();var a=J.current,c=f.current;if(a==null||c==null)return;try{var e=m(a),g=c.experimentationConfig,j=d.loggingMetaData.coreVideoPlayerMetaData,l=function(a){a=E.current;return!a?null:a.getEstimatedBandwidth()},r=function(){g.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(function(){return l(Boolean(j.isLiveStreaming))}))},s=function(){var a=g.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var c=b("CometThrottle")(r,a),d=b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",c);return function(){d.remove(),c.cancel()}};s=s();a=y({OzPlayerImpl:b("oz-player"),captionsInfoRef:D,getBandwidthEstimate:l,handleCaptionsInfoChange:F,handleFatalImplementationError:G,initialProps:d,machine:H,playerVersion:q,resolvedVideoInfo:c,segmentDataSource:o,sourceBufferDataSource:p,videoElement:a,videoElementAPI:e});var t=a.engineExtrasAPI,u=a.ozBufferingDetector;a=a.ozPlayer;E.current=t;I.current=e;h.current=c;i.current=a;k.current=u;n.current=s;H.dispatch({payload:{availableQualities:t.getAvailableVideoQualities(),selectedVideoQuality:t.getUserSelectedVideoQuality(),targetVideoQuality:t.getCurrentTargetVideoQuality()},type:"implementation_engine_initialized"})}catch(a){G(a,"oz_player_create_exception")}};c=l({augmentDebugTools:function(a){return v({debugTools:a,ozBufferingDetectorRef:k,ozPlayerRef:i,playingVideoInfoRef:h,segmentDataSource:o,sourceBufferDataSource:p})},createVideoPlayerError:w,debugLog:r,destroy:function(){var a=k.current;a&&(k.current=null,a.destroy());a=i.current;a&&(i.current=null,a.destroy());a=n.current;a&&(n.current=null,a())},engineMetadata:{isAbrEnabled:!0,playerImplementationName:"oz_v2",playerVersion:q,streamingFormat:"dash"},handleFatalError:c,handleVideoElementMounted:C,handleVideoElementUnmounted:function(){},handleVideoInfoChange:B,initialProps:d,setExposedStateInReact:a});var D=c.captionsInfoRef;B=c.engine;var E=c.engineExtrasAPIRef,F=c.handleCaptionsInfoChange,G=c.handleFatalImplementationError,H=c.machine,I=c.videoElementAPIRef,J=c.videoElementRef;return B}e.exports={createVideoPlayerOzImplementationEngine:a}}),null);
__d("VideoPlayerOzImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerOzImplementationEngine"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine,h=b("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine;function a(a){var c=g(a,h),d=c[0];c=c[1];return b("React").jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.handleVideoElement})}e.exports=a}),null);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="hd",h="sd";function a(a){__p&&__p();var b=a.getProgressiveSrc,c=a.setProgressiveSrc,d=h,e=h,f={getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a=b(),c=a.hdSrc;a=a.sdSrc;var d=[];a!=null&&d.push(h);c!=null&&d.push(g);return d},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){return e},getCurrentTargetVideoQuality:function(){return e},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){return"progressive"},getUserSelectedVideoQuality:function(){return d},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},isDrm:function(){return!1},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setUserSelectedVideoQuality:function(f){d=f;var i=b(),j=i.hdSrc;i=i.sdSrc;f==="notselected"||f==="auto"?(e=i!=null?h:j!=null?g:h,a=i!=null?i:j!=null?j:null):f===g&&j!=null?(e=g,a=j):f===h&&i!=null?(e=h,a=i):(e=h,a=null);c(a)}};return f}e.exports={createVideoPlayerProgressiveImplementationEngineExtrasAPI:a}}),null);
__d("VideoPlayerProgressiveImplementationEngine",["VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationHelper","VideoPlayerProgressiveImplementationEngineExtrasAPI","emptyFunction","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine,h=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI,i=b("VideoPlayerImplementationHelper").createVideoPlayerErrorFromUnknownError,j=b("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI,k=b("emptyFunction");function l(a,b){return i("PROGRESSIVE_JAVASCRIPT_NATIVE",a,b)}function a(a){__p&&__p();var c=a.handleFatalError,d=a.initialProps;a=a.setExposedStateInReact;var e={current:null},f={current:null},i={current:null},m=function(){__p&&__p();var a=u.current,b=f.current;if(a==null||b==null)return;try{var c=h(a),e=j({getProgressiveSrc:function(){var a;a=(a=i.current)!=null?a:{hdSrc:null,sdSrc:null};var b=a.hdSrc;a=a.sdSrc;return{hdSrc:b,sdSrc:a}},setProgressiveSrc:function(a){c.setSrc(a);if(a!=null){a=(a=s.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:0;a>0&&c.setPlayheadPosition(a);s.getCurrentState().controlledState.playbackState==="playing"&&c.play();s.dispatch({payload:{targetVideoQuality:e.getCurrentTargetVideoQuality()},type:"representation_changed"})}}});q({inbandCaptionsAutogeneratedFromManifest:e.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:e.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:(a=o.current)==null?void 0:a.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:(a=o.current)==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:(a=o.current)==null?void 0:a.sideLoadCaptionsUrlFromProps});p.current=e;t.current=c;i.current=b;s.dispatch({payload:{availableQualities:e.getAvailableVideoQualities(),selectedVideoQuality:e.getUserSelectedVideoQuality(),targetVideoQuality:e.getCurrentTargetVideoQuality()},type:"implementation_engine_initialized"});c.setPlayheadPosition(d.startTimestamp)}catch(a){r(a,"progressive_player_create_exception")}},n=function(a){__p&&__p();var c;c={hdSrc:a.hdSrc===""?null:(c=a.hdSrc)!=null?c:null,initialForceHD:a.initialForceHD,sdSrc:a.sdSrc===""?null:(c=a.sdSrc)!=null?c:null,videoFBID:a.videoFBID};if(e.current==null||c.videoFBID!==e.current.videoFBID||c.hdSrc!==e.current.hdSrc||c.sdSrc!==e.current.sdSrc){e.current=c;if(c.hdSrc!=null&&c.hdSrc!==""||c.sdSrc!=null&&c.sdSrc!=="")f.current=c,m();else throw b("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");return!0}else return!1};c=g({augmentDebugTools:function(a){return a},createVideoPlayerError:l,debugLog:k,destroy:function(){},engineMetadata:{isAbrEnabled:!1,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:c,handleVideoElementMounted:m,handleVideoElementUnmounted:function(){},handleVideoInfoChange:n,initialProps:d,setExposedStateInReact:a});var o=c.captionsInfoRef;n=c.engine;var p=c.engineExtrasAPIRef,q=c.handleCaptionsInfoChange,r=c.handleFatalImplementationError,s=c.machine,t=c.videoElementAPIRef,u=c.videoElementRef;return n}e.exports={createVideoPlayerProgressiveImplementationEngine:a}}),null);
__d("VideoPlayerProgressiveImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine,h=b("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine;function a(a){var c=g(a,h),d=c[0];c=c[1];return b("React").jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.handleVideoElement})}e.exports=a}),null);
__d("VideoPlayerOzImplementationData",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=a.canUseOz,c=a.dashManifest,d=a.dashUrl,e=a.experimentationConfig,f=a.minQualityPreference;a=a.videoFBID;if(b!==!0||a==null)return null;b=c==null||c===""?null:c;a=d==null||d===""?null:d;if(b==null&&a==null)return null;return e==null?null:{experimentationConfig:e,manifest:b,manifestUrl:a,minQualityPreference:(c=f)!=null?c:null}}e.exports={makeOzImplementationData:a}}),null);
__d("useOzImplementationData",["CometRelay","React","VideoPlayerOzImplementationData","VideoPlayerOzWWWConfig","useOzImplementationData_video.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React").useMemo,j=b("VideoPlayerOzImplementationData").makeOzImplementationData;function a(a,c){var d=c.manifestURL_DO_NOT_USE,e=c.videoPlayerShakaConfig,f=i(function(){return e==null?null:new(b("VideoPlayerOzWWWConfig"))(e)},[e]),k=h(g!==void 0?g:g=b("useOzImplementationData_video.graphql"),a);return i(function(){return j({canUseOz:k.can_use_oz,dashManifest:d!=null?null:k.dash_manifest,dashUrl:d!=null?d:k.playable_url_dash,experimentationConfig:f,minQualityPreference:k.min_quality_preference,videoFBID:k.id})},[k,f,d])}e.exports=a}),null);
__d("VideoPlayerProgressiveImplementationData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.hdSrc,c=a.initialForceHD;a=a.sdSrc;return a==null?null:{hdSrc:b,initialForceHD:c,sdSrc:a}}e.exports={makeProgressiveImplementationData:a}}),null);
__d("useProgressiveImplementationData",["CometRelay","VideoPlayerProgressiveImplementationData","useProgressiveImplementationData_video.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData;function a(a,c){c=c.initialForceHD;c=c===void 0?!1:c;a=h(g!==void 0?g:g=b("useProgressiveImplementationData_video.graphql"),a);return i({hdSrc:a.playable_url_quality_hd,initialForceHD:c,sdSrc:a.playable_url})}e.exports=a}),null);
__d("useVideoImplementations",["CometRelay","VideoPlayerOzImplementationV2.react","VideoPlayerProgressiveImplementationV2.react","manifestHasUnsupportedCodecs","useOzImplementationData","useProgressiveImplementationData","useVideoImplementations_video.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment;function a(a,c){__p&&__p();var d=[],e=c.initialForceHD;e=e===void 0?!1:e;var f=c.manifestURL_DO_NOT_USE;c=c.videoPlayerShakaConfig;a=h(g!==void 0?g:g=b("useVideoImplementations_video.graphql"),a);f=b("useOzImplementationData")(a,{manifestURL_DO_NOT_USE:f,videoPlayerShakaConfig:c});f!=null&&(f.manifest!=null&&!b("manifestHasUnsupportedCodecs")(f.manifest)||f.manifestUrl!=null)&&d.push({Component:b("VideoPlayerOzImplementationV2.react"),data:f,typename:"VideoPlayerOzImplementation"});c=b("useProgressiveImplementationData")(a,{initialForceHD:e});b("VideoPlayerProgressiveImplementationV2.react")!=null&&c!=null&&d.push({Component:b("VideoPlayerProgressiveImplementationV2.react"),data:c,typename:"VideoPlayerProgressiveImplementation"});return d}e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings",["CometRelay","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment;function a(a){a=h(g!==void 0?g:g=b("useVideoPlayerCaptionsSettings_video.graphql"),a);return{alwaysShowCaptions:(a=(a=a.captions_settings)==null?void 0:a.always_show_captions)!=null?a:!1}}e.exports=a}),null);
__d("useVideoPlayerShakaConfig",["CometRelay","React","VideoPlayerConnectionQuality","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React").useEffect,j=b("React").useState;function a(a,c){__p&&__p();c=c.adClientToken;a=h(g!==void 0?g:g=b("useVideoPlayerShakaConfig_video.graphql"),a);var d=c!=null,e=a.is_spherical===!0;c=j(function(){return new(b("VideoPlayerShakaConfig"))({connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),content_category:"general",is_ad:d,is_live:!1,is_spherical:e,latency_level:"normal",player_format:"inline",servable_via_fmbs:!1})});var f=c[0];i(function(){f.setContext("is_ad",d)},[f,d]);i(function(){f.setContext("is_spherical",e)},[f,e]);return f}e.exports=a}),null);
__d("VideoPlayerRelay.react",["requireDeferredForDisplay","CometErrorBoundary.react","CometRelay","CometTrackingNodeProvider.react","React","VideoPlayerFallbackCover.react","VideoPlayerX.react","deferredLoadComponent","unrecoverableViolation","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useVideoImplementations","useVideoPlayerCaptionsSettings","useVideoPlayerShakaConfig","VideoPlayerRelay_video.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CometRelay").MatchContainer;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react"));function k(a){__p&&__p();var c=a.adClientToken,d=a.autoplayComponentEnabled,e=a.autoplayGatingResult,f=a.canAutoplay,k=a.children,l=a.disableAutoplay,m=a.disableLoadingIndicator;m=m===void 0?!1:m;var n=a.externalLogID,o=a.externalLogType,p=a.initialForceHD;p=p===void 0?!1:p;var q=a.initialTracePolicy,r=a.livingRoomID,s=a.loopingBehavior;s=s===void 0?"default":s;var t=a.manifestURL_DO_NOT_USE,u=a.playerFormat;u=u===void 0?"inline":u;var v=a.portalingEnabled,w=a.portalingFromVideoID,x=a.portalingPlaceMetaData,y=a.portalingRenderPlaceholder,z=a.propsForVPVD,A=a.startTimestamp,B=a.subOrigin;a=a.video;a=i(g!==void 0?g:g=b("VideoPlayerRelay_video.graphql"),a);a.dash_prefetch_experimental;var C=b("useVideoPlayerShakaConfig")(a,{adClientToken:c});p=b("useVideoImplementations")(a,{initialForceHD:p,manifestURL_DO_NOT_USE:t,videoPlayerShakaConfig:C});t=b("useGraphQLVideoDRMInfo")(a);C=b("useVideoPlayerCaptionsSettings")(a);f=f!=null?f:!0;e=e!=null?e:"unknown";var D=b("useGraphQLVideoAutoplayGatingResult")(a),E=f&&D.canAutoplay;f=f?D.autoplayGatingResult:e;e=D.autoplaySetting;D=a.instream_video_ad_breaks_comet;D=D?b("React").jsx(h,{match:D,props:{instreamVideoAdBreaksComet:D,playerFormat:u,subOrigin:B,videoFBID:a.id}}):null;if(!p.length)throw b("unrecoverableViolation")("Cannot play video: No matching video player implementations","comet_video_player");if(a.id==null)throw b("unrecoverableViolation")("Cannot play video: Empty video ID","comet_video_player");var F=a.is_spherical,G=a.permalink_url;if(F===!0){if(G==null||G==="")throw b("unrecoverableViolation")("Cannot play video: Empty permalink URL for a spherical video","comet_video_player");return b("React").jsx(j,{videoTahoeUrl:G})}F=c!=null;G=!1;var H=0;switch(s){case"infinite":G=!0;H=Number.POSITIVE_INFINITY;break;case"disabled":G=!1;H=0;break;case"default":G=a.is_looping;H=a.loop_count;break;default:throw b("unrecoverableViolation")("Unexpected loopingBehavior: "+s,"comet_video_player")}return b("React").jsx(b("VideoPlayerX.react"),{adClientToken:c,alwaysShowCaptions:C.alwaysShowCaptions,autoplayComponentEnabled:d,autoplayGatingResult:f,autoplaySetting:e,broadcastStatus:a.broadcast_status,broadcasterOrigin:a.broadcaster_origin,canAutoplay:E,captionsUrl:a.captions_url,children:k,desiredLatencyMs:a.broadcaster_desired_latency_ms,disableAutoplay:l,disableLoadingIndicator:m,externalLogID:n,externalLogType:o,graphQLVideoDRMInfo:t,implementations:p,initialRepresentationIds:a.dash_prefetch_experimental,initialTracePolicy:q,instreamVideoAdBreaksPlayer:D,isLiveStreaming:a.is_live_streaming,latencyToleranceMs:a.broadcaster_latency_tolerance_ms,livingRoomID:r,loopActive:G,loopCount:H,originalHeight:a.original_height,originalWidth:a.original_width,playerFormat:u,portalingEnabled:v&&!F,portalingFromVideoID:w,portalingPlaceMetaData:x,portalingRenderPlaceholder:y,propsForVPVD:z,startTimestamp:A,subOrigin:B,videoFBID:a.id},a.id)}function a(a){return b("React").jsx(b("CometErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:function(){return b("React").jsx(b("VideoPlayerFallbackCover.react"),{})},project:"comet_video_player",children:b("React").jsx(b("CometTrackingNodeProvider.react"),{trackingNode:13,children:b("React").jsx(k,babelHelpers["extends"]({},a))})})}e.exports=a}),null);
__d("VideoAutoplayLocalScopeProvider.react",["React","VideoPlayerAutoplayContexts"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useMemo,h=b("React").useRef,i=b("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext,j=b("VideoPlayerAutoplayContexts").makeAutoplayScopeID;function a(a){var c=a.autoplayLocalRules,d=a.customAutoplaySelectionFunc,e=j(),f=h(e);e=g(function(){return{autoplayLocalRules:c,autoplayScopeID:f.current,customAutoplaySelectionFunc:d}},[f,d,c]);return b("React").jsx(i.Provider,{value:e,children:a.children})}e.exports=a}),null);
__d("VideoAutoplayManagerUtils",["DOMRectIsEqual"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=a?a.symbol:null;return a!=null&&e!==c&&a.previousAutoplayDecision===a.currentAutoplayDecision&&b("DOMRectIsEqual")((e=a.previousVideoPlayerViewabilityInfo)==null?void 0:e.positionToViewport,a.videoPlayerViewabilityInfo.positionToViewport)&&!(c==null&&d===1&&((e=a.previousVideoPlayerViewabilityInfo)==null?void 0:e.visiblePercentage)!==a.videoPlayerViewabilityInfo.visiblePercentage)}e.exports={shouldSkipBestAutoplayVideo:a}}),null);
__d("VideoAutoplayManagerX.react",["CometThrottle","React","VideoAutoplayLocalScopeProvider.react","VideoAutoplayManagerUtils","VideoPlayerAutoplayContexts","VideoPlayerAutoplayRulesProvider","WwwCometVideoAutoplayFalcoEvent","clearTimeout","gkx","recoverableViolation","useCometPassiveWindowSize","useCometUniqueID","VideoPlayerWithAutoplayUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(c=b("React")).useCallback,h=c.useEffect,i=c.useMemo,j=c.useRef,k=b("VideoAutoplayManagerUtils").shouldSkipBestAutoplayVideo,l=b("VideoPlayerAutoplayContexts").AutoplayApiContext,m=750,n=b("gkx")("1235484")?200:50,o=b("VideoPlayerWithAutoplayUtils").log;function p(a,b){a=a.videoPlayerViewabilityInfo.positionToViewport;if(a){var c=a.height;a=a.y;a=a+c/2;return Math.abs(a-b)}return Number.POSITIVE_INFINITY}function a(a){__p&&__p();var c=b("useCometUniqueID")(),d=i(function(){return"MX::"+c},[c]),e=j(d);h(function(){e.current=d},[d]);var f=j(new Map()),q=j(new Map()),r=j(new Map()),s=j(new Map()),t=j(null),u=j(!1),v=b("useCometPassiveWindowSize")(),w=j(v);h(function(){w.current=v},[v]);h(function(){__p&&__p();var a=u,c=t,d=f;return function(){__p&&__p();a.current=!0;b("clearTimeout")(c.current);var e=d.current.values(),f=e.next();while(f.value!=null){var g=f.value,h=g.longThrottle;g=g.throttle;g.cancel();h.cancel();f.done||(f=e.next())}}},[]);var x=g(function(a){__p&&__p();var c;if(u.current)return;var d=a.autoplayScopeID,f=(c=s.current.get(d))!=null?c:null;c=q.current.keys();var g=c.next(),h=[];while(g.value!=null){var i=q.current.get(g.value);if(i){var j=i.autoplayLocalScope;i=i.symbol;if(j.autoplayScopeID===d){j=r.current.get(i);if(j){var l=j.currentAutoplayDecision,m=j.videoPlayerViewabilityInfo;r.current.set(i,{currentAutoplayDecision:l,previousAutoplayDecision:l,previousVideoPlayerViewabilityInfo:m,symbol:i,videoPlayerViewabilityInfo:m});l==="ALLOW"&&h.push(j)}}}g.done||(g=c.next())}i=w.current.getCurrent();var n=i.innerHeight/2;h.sort(function(a,b){__p&&__p();var c=Math.floor(p(a,n)),d=Math.floor(p(b,n)),e=a.videoPlayerViewabilityInfo.positionToViewport,f=b.videoPlayerViewabilityInfo.positionToViewport,g=1.05,h=Math.abs(c-d),i=!1;if(e&&f){e=Math.max(e.height,f.height);i=h<=e/2*g}if(!i)if(c<d)return-1;else if(c>d)return 1;f=a.videoPlayerViewabilityInfo.visiblePercentage;h=b.videoPlayerViewabilityInfo.visiblePercentage;e=.01;if(Math.abs(f-h)>e)if(f>h)return-1;else if(f<h)return 1;c=(i=(g=a.videoPlayerViewabilityInfo.positionToViewport)==null?void 0:g.x)!=null?i:0;f=(e=(d=b.videoPlayerViewabilityInfo.positionToViewport)==null?void 0:d.x)!=null?e:0;return f-c});m=0;l=h[m];var v;j=l==null;while(!j)k(l,f,h.length)?(l=h[++m],j=l==null):j=!0;v=l?l.symbol:null;b("clearTimeout")(t.current);t.current=null;a.customAutoplaySelectionFunc&&(v=a.customAutoplaySelectionFunc(h,v,f));if(v!==f){if(f){g=f?q.current.get(f):null;if(g){var x=g.controller;c=x.getCurrentState();i=c.paused;j=f?r.current.get(f):null;m=function(a){var c;o(e.current,"[PAUSE] previously selected autoplay video: "+((c=f)!=null?c:"null"));b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:d,event_creation_time:Date.now(),initiator:e.current,initiator_type:"autoplay_manager",selected_autoplay_video_symbol:v,target:f,target_current_autoplay_decision:a==null?void 0:a.currentAutoplayDecision}});x.pause("autoplay_initiated")};if(j){l=j.currentAutoplayDecision;l==="ALLOW"&&!i&&m(j)}else m()}}if(v){a=q.current.get(v);if(a){h=a.controller;o(e.current,"[PLAY] newly selected autoplay video: "+v);var y=r.current.get(v)||null;b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"play",autoplay_scope_id:d,event_creation_time:Date.now(),initiator:e.current,initiator_type:"autoplay_manager",selected_autoplay_video_symbol:v,target:f,target_current_autoplay_decision:y==null?void 0:y.currentAutoplayDecision}});h.play("autoplay_initiated")}}s.current.set(d,v)}},[]),y=g(function(a){a=a.autoplayScopeID;return{selectedAutoplayVideoSymbol:s.current.get(a)}},[]),z=g(function(a,c,d,g,h){o(e.current,"[Register] "+a);q.current.set(a,{autoplayLocalScope:d,controller:g,hiddenSubtreePassive:h,instanceKey:c,symbol:a});g=d.autoplayScopeID;f.current.has(g)||f.current.set(g,{longThrottle:b("CometThrottle")(x,m),throttle:b("CometThrottle")(x,n)})},[]),A=g(function(a,c,d){__p&&__p();var e=q.current.get(a);if(e){e=e.autoplayLocalScope;var g=e.autoplayScopeID,h=r.current.get(a),i=h?h.previousAutoplayDecision:null,j=h?h.previousVideoPlayerViewabilityInfo:null;r.current.set(a,{currentAutoplayDecision:c,previousAutoplayDecision:i,previousVideoPlayerViewabilityInfo:j,symbol:a,videoPlayerViewabilityInfo:d});i=!0;(c==="IGNORE"||h&&h.currentAutoplayDecision==="IGNORE")&&(i=!1);j=s.current.get(g)||null;j===a&&c!=="ALLOW"&&s.current.set(g,null);if(i){d=f.current.get(g);d&&(b("gkx")("1238814")&&j==null?d.longThrottle(e):d.throttle(e))}}else b("recoverableViolation")("Received an update for an unregisterd video unit: "+a,"comet_video_player")},[]),B=g(function(a){__p&&__p();o(e.current,"[Unregister] "+a);if(q.current.has(a)){var c=q.current.get(a);if(c){var d;c=c.autoplayLocalScope;var g=c.autoplayScopeID;r.current["delete"](a);d=(d=s.current.get(g))!=null?d:null;if(d===a){s.current.set(g,null);d=f.current.get(g);d?b("gkx")("1238814")?d.longThrottle(c):d.throttle(c):b("recoverableViolation")("No throttles exist for the current scope: "+g+", this is probably an error.","comet_video_player")}q.current["delete"](a)}}},[]),C=i(function(){return{getAutoplayManagerDebugInfo:y,register:z,unregister:B,update:A}},[y,z,B,A]),D=b("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("basic");return b("React").jsx(l.Provider,{value:C,children:b("React").jsx(b("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:D,children:a.children})})}e.exports=a}),null);
__d("VideoPlayerLoggingSuboriginContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);